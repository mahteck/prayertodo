2025-12-29 22:13:08,285 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-12-29 22:13:08,286 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-29 22:13:09,322 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-12-29 22:13:09,322 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-29 22:13:09,573 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-12-29 22:13:09,574 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-29 22:13:09,846 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-29 22:13:09,905 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 22:13:09,907 - sqlalchemy.engine.Engine - INFO - [generated in 0.00287s] {'table_name': 'masjids', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 22:13:10,546 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 22:13:10,546 - sqlalchemy.engine.Engine - INFO - [cached since 0.6422s ago] {'table_name': 'spiritual_tasks', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 22:13:10,678 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 22:13:10,679 - sqlalchemy.engine.Engine - INFO - [cached since 0.7744s ago] {'table_name': 'daily_hadith', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 22:13:10,807 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 22:13:10,808 - sqlalchemy.engine.Engine - INFO - [generated in 0.00045s] {'typname_1': 'taskcategory', 'nspname_1': 'pg_catalog'}
2025-12-29 22:13:10,985 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 22:13:10,986 - sqlalchemy.engine.Engine - INFO - [cached since 0.1782s ago] {'typname_1': 'priority', 'nspname_1': 'pg_catalog'}
2025-12-29 22:13:11,112 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 22:13:11,113 - sqlalchemy.engine.Engine - INFO - [cached since 0.3053s ago] {'typname_1': 'recurrence', 'nspname_1': 'pg_catalog'}
2025-12-29 22:13:11,239 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 22:13:11,239 - sqlalchemy.engine.Engine - INFO - [cached since 0.4319s ago] {'typname_1': 'linkedprayer', 'nspname_1': 'pg_catalog'}
2025-12-29 22:13:11,365 - sqlalchemy.engine.Engine - INFO - CREATE TYPE linkedprayer AS ENUM ('FAJR', 'DHUHR', 'ASR', 'MAGHRIB', 'ISHA', 'JUMMAH')
2025-12-29 22:13:11,365 - sqlalchemy.engine.Engine - INFO - [no key 0.00050s] {}
2025-12-29 22:13:11,519 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-29 22:13:12,342 - routers.chatbot - INFO - Initializing SalaatFlow Agent...
2025-12-29 22:13:12,343 - chatbot.mcp_tools - INFO - ✅ Registered 11 MCP tools for AI agent
2025-12-29 22:13:12,343 - chatbot.agent.agent - INFO - Initializing agent with 11 tools...
2025-12-29 22:13:20,407 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/assistants "HTTP/1.1 400 Bad Request"
2025-12-29 22:13:20,408 - chatbot.agent.agent - ERROR - Failed to initialize agent: Error code: 400 - {'error': {'message': "The requested model 'gpt-4' does not exist.", 'type': 'invalid_request_error', 'param': 'model', 'code': 'model_not_found'}}
Traceback (most recent call last):
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/chatbot/agent/agent.py", line 49, in initialize_agent
    _assistant = client.beta.assistants.create(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/venv/lib/python3.12/site-packages/openai/resources/beta/assistants.py", line 162, in create
    return self._post(
           ^^^^^^^^^^^
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/venv/lib/python3.12/site-packages/openai/_base_client.py", line 1259, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/venv/lib/python3.12/site-packages/openai/_base_client.py", line 1047, in request
    raise self._make_status_error_from_response(err.response) from None
openai.BadRequestError: Error code: 400 - {'error': {'message': "The requested model 'gpt-4' does not exist.", 'type': 'invalid_request_error', 'param': 'model', 'code': 'model_not_found'}}
2025-12-29 22:13:20,560 - routers.chatbot - ERROR - Failed to initialize agent: Error code: 400 - {'error': {'message': "The requested model 'gpt-4' does not exist.", 'type': 'invalid_request_error', 'param': 'model', 'code': 'model_not_found'}}
2025-12-29 22:13:39,158 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-12-29 22:13:39,158 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-29 22:13:39,799 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-12-29 22:13:39,800 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-29 22:13:40,126 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-12-29 22:13:40,127 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-29 22:13:40,455 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-29 22:13:40,459 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 22:13:40,460 - sqlalchemy.engine.Engine - INFO - [generated in 0.00061s] {'table_name': 'masjids', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 22:13:41,494 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 22:13:41,495 - sqlalchemy.engine.Engine - INFO - [cached since 1.035s ago] {'table_name': 'spiritual_tasks', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 22:13:42,017 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 22:13:42,018 - sqlalchemy.engine.Engine - INFO - [cached since 1.558s ago] {'table_name': 'daily_hadith', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 22:13:42,158 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 22:13:42,159 - sqlalchemy.engine.Engine - INFO - [generated in 0.00056s] {'typname_1': 'taskcategory', 'nspname_1': 'pg_catalog'}
2025-12-29 22:13:42,296 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 22:13:42,297 - sqlalchemy.engine.Engine - INFO - [cached since 0.1387s ago] {'typname_1': 'priority', 'nspname_1': 'pg_catalog'}
2025-12-29 22:13:43,897 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 22:13:43,897 - sqlalchemy.engine.Engine - INFO - [cached since 1.739s ago] {'typname_1': 'recurrence', 'nspname_1': 'pg_catalog'}
2025-12-29 22:13:44,037 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 22:13:44,038 - sqlalchemy.engine.Engine - INFO - [cached since 1.879s ago] {'typname_1': 'linkedprayer', 'nspname_1': 'pg_catalog'}
2025-12-29 22:13:44,208 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-29 22:13:44,348 - routers.chatbot - INFO - Initializing SalaatFlow Agent...
2025-12-29 22:13:44,349 - chatbot.mcp_tools - INFO - ✅ Registered 11 MCP tools for AI agent
2025-12-29 22:13:44,349 - chatbot.agent.agent - INFO - Initializing agent with 11 tools...
2025-12-29 22:13:48,873 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/assistants "HTTP/1.1 400 Bad Request"
2025-12-29 22:13:48,877 - chatbot.agent.agent - ERROR - Failed to initialize agent: Error code: 400 - {'error': {'message': "The requested model 'gpt-4' does not exist.", 'type': 'invalid_request_error', 'param': 'model', 'code': 'model_not_found'}}
Traceback (most recent call last):
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/chatbot/agent/agent.py", line 49, in initialize_agent
    _assistant = client.beta.assistants.create(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/venv/lib/python3.12/site-packages/openai/resources/beta/assistants.py", line 162, in create
    return self._post(
           ^^^^^^^^^^^
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/venv/lib/python3.12/site-packages/openai/_base_client.py", line 1259, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/venv/lib/python3.12/site-packages/openai/_base_client.py", line 1047, in request
    raise self._make_status_error_from_response(err.response) from None
openai.BadRequestError: Error code: 400 - {'error': {'message': "The requested model 'gpt-4' does not exist.", 'type': 'invalid_request_error', 'param': 'model', 'code': 'model_not_found'}}
2025-12-29 22:13:48,917 - routers.chatbot - ERROR - Failed to initialize agent: Error code: 400 - {'error': {'message': "The requested model 'gpt-4' does not exist.", 'type': 'invalid_request_error', 'param': 'model', 'code': 'model_not_found'}}
2025-12-29 22:14:20,212 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-12-29 22:14:20,213 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-29 22:14:20,468 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-12-29 22:14:20,469 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-29 22:14:20,730 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-12-29 22:14:20,731 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-29 22:14:20,985 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-29 22:14:20,990 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 22:14:20,990 - sqlalchemy.engine.Engine - INFO - [generated in 0.00054s] {'table_name': 'masjids', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 22:14:21,259 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 22:14:21,260 - sqlalchemy.engine.Engine - INFO - [cached since 0.2699s ago] {'table_name': 'spiritual_tasks', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 22:14:21,399 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 22:14:21,399 - sqlalchemy.engine.Engine - INFO - [cached since 0.4095s ago] {'table_name': 'daily_hadith', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 22:14:21,538 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 22:14:21,539 - sqlalchemy.engine.Engine - INFO - [generated in 0.00153s] {'typname_1': 'taskcategory', 'nspname_1': 'pg_catalog'}
2025-12-29 22:14:21,664 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 22:14:21,664 - sqlalchemy.engine.Engine - INFO - [cached since 0.1269s ago] {'typname_1': 'priority', 'nspname_1': 'pg_catalog'}
2025-12-29 22:14:21,794 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 22:14:21,795 - sqlalchemy.engine.Engine - INFO - [cached since 0.2575s ago] {'typname_1': 'recurrence', 'nspname_1': 'pg_catalog'}
2025-12-29 22:14:22,588 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 22:14:22,588 - sqlalchemy.engine.Engine - INFO - [cached since 1.05s ago] {'typname_1': 'linkedprayer', 'nspname_1': 'pg_catalog'}
2025-12-29 22:14:22,711 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-29 22:14:23,183 - routers.chatbot - INFO - Initializing SalaatFlow Agent...
2025-12-29 22:14:23,183 - chatbot.mcp_tools - INFO - ✅ Registered 11 MCP tools for AI agent
2025-12-29 22:14:23,183 - chatbot.agent.agent - INFO - Initializing agent with 11 tools...
2025-12-29 22:14:26,694 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/assistants "HTTP/1.1 400 Bad Request"
2025-12-29 22:14:26,695 - chatbot.agent.agent - ERROR - Failed to initialize agent: Error code: 400 - {'error': {'message': "The requested model 'gpt-4' does not exist.", 'type': 'invalid_request_error', 'param': 'model', 'code': 'model_not_found'}}
Traceback (most recent call last):
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/chatbot/agent/agent.py", line 49, in initialize_agent
    _assistant = client.beta.assistants.create(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/venv/lib/python3.12/site-packages/openai/resources/beta/assistants.py", line 162, in create
    return self._post(
           ^^^^^^^^^^^
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/venv/lib/python3.12/site-packages/openai/_base_client.py", line 1259, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/venv/lib/python3.12/site-packages/openai/_base_client.py", line 1047, in request
    raise self._make_status_error_from_response(err.response) from None
openai.BadRequestError: Error code: 400 - {'error': {'message': "The requested model 'gpt-4' does not exist.", 'type': 'invalid_request_error', 'param': 'model', 'code': 'model_not_found'}}
2025-12-29 22:14:26,722 - routers.chatbot - ERROR - Failed to initialize agent: Error code: 400 - {'error': {'message': "The requested model 'gpt-4' does not exist.", 'type': 'invalid_request_error', 'param': 'model', 'code': 'model_not_found'}}
2025-12-29 22:15:17,795 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-12-29 22:15:17,795 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-29 22:15:18,087 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-12-29 22:15:18,088 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-29 22:15:18,578 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-12-29 22:15:18,578 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-29 22:15:18,956 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-29 22:15:18,962 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 22:15:18,963 - sqlalchemy.engine.Engine - INFO - [generated in 0.00056s] {'table_name': 'masjids', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 22:15:19,760 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 22:15:19,761 - sqlalchemy.engine.Engine - INFO - [cached since 0.7984s ago] {'table_name': 'spiritual_tasks', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 22:15:19,955 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 22:15:19,955 - sqlalchemy.engine.Engine - INFO - [cached since 0.993s ago] {'table_name': 'daily_hadith', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 22:15:20,122 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 22:15:20,123 - sqlalchemy.engine.Engine - INFO - [generated in 0.00048s] {'typname_1': 'taskcategory', 'nspname_1': 'pg_catalog'}
2025-12-29 22:15:20,297 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 22:15:20,298 - sqlalchemy.engine.Engine - INFO - [cached since 0.1752s ago] {'typname_1': 'priority', 'nspname_1': 'pg_catalog'}
2025-12-29 22:15:20,444 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 22:15:20,444 - sqlalchemy.engine.Engine - INFO - [cached since 0.3217s ago] {'typname_1': 'recurrence', 'nspname_1': 'pg_catalog'}
2025-12-29 22:15:21,025 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 22:15:21,026 - sqlalchemy.engine.Engine - INFO - [cached since 0.9034s ago] {'typname_1': 'linkedprayer', 'nspname_1': 'pg_catalog'}
2025-12-29 22:15:21,166 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-29 22:15:21,791 - routers.chatbot - INFO - Initializing SalaatFlow Agent...
2025-12-29 22:15:21,791 - chatbot.mcp_tools - INFO - ✅ Registered 11 MCP tools for AI agent
2025-12-29 22:15:21,792 - chatbot.agent.agent - INFO - Initializing agent with 11 tools...
2025-12-29 22:15:26,000 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/assistants "HTTP/1.1 200 OK"
2025-12-29 22:15:26,320 - chatbot.agent.agent - INFO - ✅ Agent initialized successfully: asst_FCijDvOE6vOekq8TcZCTjPty
2025-12-29 22:15:26,321 - routers.chatbot - INFO - ✅ Agent ready
2025-12-29 23:39:17,151 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-12-29 23:39:17,152 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-29 23:39:17,347 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-12-29 23:39:17,347 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-29 23:39:17,512 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-12-29 23:39:17,512 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-29 23:39:17,683 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-29 23:39:17,688 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 23:39:17,688 - sqlalchemy.engine.Engine - INFO - [generated in 0.00054s] {'table_name': 'masjids', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 23:39:17,880 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 23:39:17,880 - sqlalchemy.engine.Engine - INFO - [cached since 0.1928s ago] {'table_name': 'spiritual_tasks', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 23:39:17,971 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 23:39:17,972 - sqlalchemy.engine.Engine - INFO - [cached since 0.2844s ago] {'table_name': 'daily_hadith', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 23:39:18,063 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 23:39:18,064 - sqlalchemy.engine.Engine - INFO - [generated in 0.00050s] {'typname_1': 'taskcategory', 'nspname_1': 'pg_catalog'}
2025-12-29 23:39:18,143 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 23:39:18,144 - sqlalchemy.engine.Engine - INFO - [cached since 0.08018s ago] {'typname_1': 'priority', 'nspname_1': 'pg_catalog'}
2025-12-29 23:39:18,226 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 23:39:18,226 - sqlalchemy.engine.Engine - INFO - [cached since 0.163s ago] {'typname_1': 'recurrence', 'nspname_1': 'pg_catalog'}
2025-12-29 23:39:18,317 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 23:39:18,318 - sqlalchemy.engine.Engine - INFO - [cached since 0.2543s ago] {'typname_1': 'linkedprayer', 'nspname_1': 'pg_catalog'}
2025-12-29 23:39:18,398 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-29 23:39:18,480 - routers.chatbot - INFO - Initializing SalaatFlow Agent...
2025-12-29 23:39:18,480 - chatbot.mcp_tools - INFO - ✅ Registered 11 MCP tools for AI agent
2025-12-29 23:39:18,481 - chatbot.agent.agent - INFO - Initializing agent with 11 tools...
2025-12-29 23:39:25,313 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/assistants "HTTP/1.1 200 OK"
2025-12-29 23:39:25,580 - chatbot.agent.agent - INFO - ✅ Agent initialized successfully: asst_jLraNrJMMazhTz2Qyf88RBzr
2025-12-29 23:39:25,580 - routers.chatbot - INFO - ✅ Agent ready
2025-12-29 23:46:06,897 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-12-29 23:46:06,897 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-29 23:46:07,070 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-12-29 23:46:07,070 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-29 23:46:07,232 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-12-29 23:46:07,232 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-29 23:46:07,431 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-29 23:46:07,439 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 23:46:07,439 - sqlalchemy.engine.Engine - INFO - [generated in 0.00114s] {'table_name': 'masjids', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 23:46:07,647 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 23:46:07,648 - sqlalchemy.engine.Engine - INFO - [cached since 0.2096s ago] {'table_name': 'spiritual_tasks', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 23:46:07,729 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 23:46:07,729 - sqlalchemy.engine.Engine - INFO - [cached since 0.2913s ago] {'table_name': 'daily_hadith', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 23:46:07,842 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 23:46:07,842 - sqlalchemy.engine.Engine - INFO - [generated in 0.00066s] {'typname_1': 'taskcategory', 'nspname_1': 'pg_catalog'}
2025-12-29 23:46:07,926 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 23:46:07,927 - sqlalchemy.engine.Engine - INFO - [cached since 0.08531s ago] {'typname_1': 'priority', 'nspname_1': 'pg_catalog'}
2025-12-29 23:46:08,010 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 23:46:08,010 - sqlalchemy.engine.Engine - INFO - [cached since 0.1687s ago] {'typname_1': 'recurrence', 'nspname_1': 'pg_catalog'}
2025-12-29 23:46:08,126 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 23:46:08,127 - sqlalchemy.engine.Engine - INFO - [cached since 0.2852s ago] {'typname_1': 'linkedprayer', 'nspname_1': 'pg_catalog'}
2025-12-29 23:46:08,219 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-29 23:46:08,300 - routers.chatbot - INFO - Initializing SalaatFlow Agent...
2025-12-29 23:46:08,301 - chatbot.mcp_tools - INFO - ✅ Registered 11 MCP tools for AI agent
2025-12-29 23:46:08,301 - chatbot.agent.agent - INFO - Initializing agent with 11 tools...
2025-12-29 23:46:13,155 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/assistants "HTTP/1.1 200 OK"
2025-12-29 23:46:13,417 - chatbot.agent.agent - INFO - ✅ Agent initialized successfully: asst_Awf9ffOXey1smEWsw3sFkocz
2025-12-29 23:46:13,418 - routers.chatbot - INFO - ✅ Agent ready
2025-12-29 23:52:50,379 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-12-29 23:52:50,379 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-29 23:52:50,555 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-12-29 23:52:50,556 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-29 23:52:50,738 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-12-29 23:52:50,738 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-29 23:52:50,944 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-29 23:52:50,949 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 23:52:50,949 - sqlalchemy.engine.Engine - INFO - [generated in 0.00081s] {'table_name': 'masjids', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 23:52:51,134 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 23:52:51,134 - sqlalchemy.engine.Engine - INFO - [cached since 0.1858s ago] {'table_name': 'spiritual_tasks', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 23:52:51,220 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 23:52:51,220 - sqlalchemy.engine.Engine - INFO - [cached since 0.2717s ago] {'table_name': 'daily_hadith', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-29 23:52:51,309 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 23:52:51,309 - sqlalchemy.engine.Engine - INFO - [generated in 0.00064s] {'typname_1': 'taskcategory', 'nspname_1': 'pg_catalog'}
2025-12-29 23:52:51,398 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 23:52:51,399 - sqlalchemy.engine.Engine - INFO - [cached since 0.08983s ago] {'typname_1': 'priority', 'nspname_1': 'pg_catalog'}
2025-12-29 23:52:51,485 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 23:52:51,486 - sqlalchemy.engine.Engine - INFO - [cached since 0.1771s ago] {'typname_1': 'recurrence', 'nspname_1': 'pg_catalog'}
2025-12-29 23:52:51,597 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-29 23:52:51,598 - sqlalchemy.engine.Engine - INFO - [cached since 0.2893s ago] {'typname_1': 'linkedprayer', 'nspname_1': 'pg_catalog'}
2025-12-29 23:52:51,684 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-29 23:52:51,792 - routers.chatbot - INFO - Initializing SalaatFlow Agent...
2025-12-29 23:52:51,793 - chatbot.mcp_tools - INFO - ✅ Registered 11 MCP tools for AI agent
2025-12-29 23:52:51,793 - chatbot.agent.agent - INFO - Initializing agent with 11 tools...
2025-12-29 23:52:58,015 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/assistants "HTTP/1.1 200 OK"
2025-12-29 23:52:58,261 - chatbot.agent.agent - INFO - ✅ Agent initialized successfully: asst_vDmzO2YCifwgSyVqWv1UJgre
2025-12-29 23:52:58,262 - routers.chatbot - INFO - ✅ Agent ready
2025-12-29 23:57:09,879 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-29 23:57:09,890 - sqlalchemy.engine.Engine - INFO - SELECT spiritual_tasks.id, spiritual_tasks.title, spiritual_tasks.description, spiritual_tasks.category, spiritual_tasks.priority, spiritual_tasks.tags, spiritual_tasks.masjid_id, spiritual_tasks.due_datetime, spiritual_tasks.recurrence, spiritual_tasks.user_id, spiritual_tasks.minutes_before_prayer, spiritual_tasks.linked_prayer, spiritual_tasks.recurrence_pattern, spiritual_tasks.completed, spiritual_tasks.completed_at, spiritual_tasks.created_at, spiritual_tasks.updated_at 
FROM spiritual_tasks
2025-12-29 23:57:09,891 - sqlalchemy.engine.Engine - INFO - [generated in 0.00107s] {}
2025-12-29 23:57:10,069 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-30 00:01:53,027 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-30 00:01:53,030 - sqlalchemy.engine.Engine - INFO - SELECT daily_hadith.id, daily_hadith.hadith_date, daily_hadith.arabic_text, daily_hadith.english_translation, daily_hadith.narrator, daily_hadith.source, daily_hadith.theme, daily_hadith.created_at 
FROM daily_hadith 
WHERE daily_hadith.hadith_date = %(hadith_date_1)s
2025-12-30 00:01:53,031 - sqlalchemy.engine.Engine - INFO - [generated in 0.00063s] {'hadith_date_1': datetime.date(2025, 12, 30)}
2025-12-30 00:01:53,229 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-30 00:04:23,654 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-12-30 00:04:23,655 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-30 00:04:23,843 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-12-30 00:04:23,844 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-30 00:04:24,028 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-12-30 00:04:24,028 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-30 00:04:24,206 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-30 00:04:24,210 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:04:24,211 - sqlalchemy.engine.Engine - INFO - [generated in 0.00071s] {'table_name': 'masjids', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-30 00:04:24,373 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:04:24,373 - sqlalchemy.engine.Engine - INFO - [cached since 0.1628s ago] {'table_name': 'spiritual_tasks', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-30 00:04:24,471 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:04:24,471 - sqlalchemy.engine.Engine - INFO - [cached since 0.261s ago] {'table_name': 'daily_hadith', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-30 00:04:24,570 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:04:24,570 - sqlalchemy.engine.Engine - INFO - [generated in 0.00051s] {'typname_1': 'taskcategory', 'nspname_1': 'pg_catalog'}
2025-12-30 00:04:24,655 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:04:24,655 - sqlalchemy.engine.Engine - INFO - [cached since 0.08546s ago] {'typname_1': 'priority', 'nspname_1': 'pg_catalog'}
2025-12-30 00:04:24,735 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:04:24,736 - sqlalchemy.engine.Engine - INFO - [cached since 0.1662s ago] {'typname_1': 'recurrence', 'nspname_1': 'pg_catalog'}
2025-12-30 00:04:24,817 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:04:24,818 - sqlalchemy.engine.Engine - INFO - [cached since 0.2483s ago] {'typname_1': 'linkedprayer', 'nspname_1': 'pg_catalog'}
2025-12-30 00:04:24,901 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-30 00:04:24,981 - routers.chatbot - INFO - Initializing SalaatFlow Agent...
2025-12-30 00:04:24,982 - chatbot.mcp_tools - INFO - ✅ Registered 11 MCP tools for AI agent
2025-12-30 00:04:24,982 - chatbot.agent.agent - INFO - Initializing agent with 11 tools...
2025-12-30 00:04:29,794 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/assistants "HTTP/1.1 200 OK"
2025-12-30 00:04:30,021 - chatbot.agent.agent - INFO - ✅ Agent initialized successfully: asst_1dd0fTHCnLgso4mJIoNDogiM
2025-12-30 00:04:30,021 - routers.chatbot - INFO - ✅ Agent ready
2025-12-30 00:24:11,735 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-12-30 00:24:11,748 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-30 00:24:12,051 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-12-30 00:24:12,052 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-30 00:24:12,359 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-12-30 00:24:12,359 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-30 00:24:13,082 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-30 00:24:13,088 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:24:13,088 - sqlalchemy.engine.Engine - INFO - [generated in 0.00067s] {'table_name': 'masjids', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-30 00:24:13,445 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:24:13,446 - sqlalchemy.engine.Engine - INFO - [cached since 0.3583s ago] {'table_name': 'spiritual_tasks', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-30 00:24:13,924 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:24:13,925 - sqlalchemy.engine.Engine - INFO - [cached since 0.8371s ago] {'table_name': 'daily_hadith', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-30 00:24:14,497 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:24:14,497 - sqlalchemy.engine.Engine - INFO - [generated in 0.00063s] {'typname_1': 'taskcategory', 'nspname_1': 'pg_catalog'}
2025-12-30 00:24:14,675 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:24:14,676 - sqlalchemy.engine.Engine - INFO - [cached since 0.1789s ago] {'typname_1': 'priority', 'nspname_1': 'pg_catalog'}
2025-12-30 00:24:15,148 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:24:15,148 - sqlalchemy.engine.Engine - INFO - [cached since 0.6516s ago] {'typname_1': 'recurrence', 'nspname_1': 'pg_catalog'}
2025-12-30 00:24:27,363 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:24:27,364 - sqlalchemy.engine.Engine - INFO - [cached since 12.87s ago] {'typname_1': 'linkedprayer', 'nspname_1': 'pg_catalog'}
2025-12-30 00:24:27,488 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-30 00:24:27,594 - routers.chatbot - INFO - Initializing SalaatFlow Agent...
2025-12-30 00:24:27,595 - chatbot.mcp_tools - INFO - ✅ Registered 11 MCP tools for AI agent
2025-12-30 00:24:27,596 - chatbot.agent.agent - INFO - Initializing agent with 11 tools...
2025-12-30 00:24:30,923 - watchfiles.main - INFO - 1 change detected
2025-12-30 00:24:37,766 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/assistants "HTTP/1.1 200 OK"
2025-12-30 00:24:37,938 - chatbot.agent.agent - INFO - ✅ Agent initialized successfully: asst_nlp5WaSSYQsiRNS3iKOizZsx
2025-12-30 00:24:37,938 - routers.chatbot - INFO - ✅ Agent ready
2025-12-30 00:24:49,448 - watchfiles.main - INFO - 1 change detected
2025-12-30 00:25:06,365 - watchfiles.main - INFO - 1 change detected
2025-12-30 00:25:22,046 - watchfiles.main - INFO - 1 change detected
2025-12-30 00:25:40,034 - watchfiles.main - INFO - 1 change detected
2025-12-30 00:26:00,748 - watchfiles.main - INFO - 1 change detected
2025-12-30 00:26:25,708 - watchfiles.main - INFO - 1 change detected
2025-12-30 00:26:47,109 - watchfiles.main - INFO - 1 change detected
2025-12-30 00:27:05,093 - watchfiles.main - INFO - 1 change detected
2025-12-30 00:27:23,501 - watchfiles.main - INFO - 1 change detected
2025-12-30 00:27:38,979 - watchfiles.main - INFO - 1 change detected
2025-12-30 00:27:55,807 - watchfiles.main - INFO - 1 change detected
2025-12-30 00:28:11,987 - watchfiles.main - INFO - 1 change detected
2025-12-30 00:28:28,140 - watchfiles.main - INFO - 1 change detected
2025-12-30 00:28:46,229 - watchfiles.main - INFO - 1 change detected
2025-12-30 00:29:04,948 - watchfiles.main - INFO - 1 change detected
2025-12-30 00:29:29,448 - watchfiles.main - INFO - 1 change detected
2025-12-30 00:29:46,988 - watchfiles.main - INFO - 1 change detected
2025-12-30 00:29:57,126 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-30 00:29:57,137 - sqlalchemy.engine.Engine - INFO - SELECT spiritual_tasks.id, spiritual_tasks.title, spiritual_tasks.description, spiritual_tasks.category, spiritual_tasks.priority, spiritual_tasks.tags, spiritual_tasks.masjid_id, spiritual_tasks.due_datetime, spiritual_tasks.recurrence, spiritual_tasks.user_id, spiritual_tasks.minutes_before_prayer, spiritual_tasks.linked_prayer, spiritual_tasks.recurrence_pattern, spiritual_tasks.completed, spiritual_tasks.completed_at, spiritual_tasks.created_at, spiritual_tasks.updated_at 
FROM spiritual_tasks
2025-12-30 00:29:57,138 - sqlalchemy.engine.Engine - INFO - [generated in 0.00061s] {}
2025-12-30 00:29:57,302 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-30 00:29:57,790 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-30 00:29:57,792 - sqlalchemy.engine.Engine - INFO - SELECT spiritual_tasks.id, spiritual_tasks.title, spiritual_tasks.description, spiritual_tasks.category, spiritual_tasks.priority, spiritual_tasks.tags, spiritual_tasks.masjid_id, spiritual_tasks.due_datetime, spiritual_tasks.recurrence, spiritual_tasks.user_id, spiritual_tasks.minutes_before_prayer, spiritual_tasks.linked_prayer, spiritual_tasks.recurrence_pattern, spiritual_tasks.completed, spiritual_tasks.completed_at, spiritual_tasks.created_at, spiritual_tasks.updated_at 
FROM spiritual_tasks 
WHERE spiritual_tasks.completed = false AND spiritual_tasks.due_datetime IS NOT NULL AND spiritual_tasks.due_datetime >= %(due_datetime_1)s AND spiritual_tasks.due_datetime <= %(due_datetime_2)s ORDER BY spiritual_tasks.due_datetime 
 LIMIT %(param_1)s
2025-12-30 00:29:57,792 - sqlalchemy.engine.Engine - INFO - [generated in 0.00056s] {'due_datetime_1': datetime.datetime(2025, 12, 29, 19, 29, 57, 302006), 'due_datetime_2': datetime.datetime(2026, 1, 5, 19, 29, 57, 302006), 'param_1': 5}
2025-12-30 00:29:58,457 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-30 00:29:58,460 - sqlalchemy.engine.Engine - INFO - SELECT daily_hadith.id, daily_hadith.hadith_date, daily_hadith.arabic_text, daily_hadith.english_translation, daily_hadith.narrator, daily_hadith.source, daily_hadith.theme, daily_hadith.created_at 
FROM daily_hadith 
WHERE daily_hadith.hadith_date = %(hadith_date_1)s
2025-12-30 00:29:58,460 - sqlalchemy.engine.Engine - INFO - [generated in 0.00075s] {'hadith_date_1': datetime.date(2025, 12, 30)}
2025-12-30 00:29:59,491 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-30 00:29:59,491 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-30 00:30:00,162 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-30 00:30:00,163 - sqlalchemy.engine.Engine - INFO - SELECT spiritual_tasks.id, spiritual_tasks.title, spiritual_tasks.description, spiritual_tasks.category, spiritual_tasks.priority, spiritual_tasks.tags, spiritual_tasks.masjid_id, spiritual_tasks.due_datetime, spiritual_tasks.recurrence, spiritual_tasks.user_id, spiritual_tasks.minutes_before_prayer, spiritual_tasks.linked_prayer, spiritual_tasks.recurrence_pattern, spiritual_tasks.completed, spiritual_tasks.completed_at, spiritual_tasks.created_at, spiritual_tasks.updated_at 
FROM spiritual_tasks
2025-12-30 00:30:00,163 - sqlalchemy.engine.Engine - INFO - [cached since 3.026s ago] {}
2025-12-30 00:30:00,490 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-30 00:30:01,265 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-30 00:30:01,266 - sqlalchemy.engine.Engine - INFO - SELECT spiritual_tasks.id, spiritual_tasks.title, spiritual_tasks.description, spiritual_tasks.category, spiritual_tasks.priority, spiritual_tasks.tags, spiritual_tasks.masjid_id, spiritual_tasks.due_datetime, spiritual_tasks.recurrence, spiritual_tasks.user_id, spiritual_tasks.minutes_before_prayer, spiritual_tasks.linked_prayer, spiritual_tasks.recurrence_pattern, spiritual_tasks.completed, spiritual_tasks.completed_at, spiritual_tasks.created_at, spiritual_tasks.updated_at 
FROM spiritual_tasks 
WHERE spiritual_tasks.completed = false AND spiritual_tasks.due_datetime IS NOT NULL AND spiritual_tasks.due_datetime >= %(due_datetime_1)s AND spiritual_tasks.due_datetime <= %(due_datetime_2)s ORDER BY spiritual_tasks.due_datetime 
 LIMIT %(param_1)s
2025-12-30 00:30:01,267 - sqlalchemy.engine.Engine - INFO - [cached since 3.475s ago] {'due_datetime_1': datetime.datetime(2025, 12, 29, 19, 30, 0, 501109), 'due_datetime_2': datetime.datetime(2026, 1, 5, 19, 30, 0, 501109), 'param_1': 5}
2025-12-30 00:30:01,611 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-30 00:30:02,417 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-30 00:30:02,419 - sqlalchemy.engine.Engine - INFO - SELECT daily_hadith.id, daily_hadith.hadith_date, daily_hadith.arabic_text, daily_hadith.english_translation, daily_hadith.narrator, daily_hadith.source, daily_hadith.theme, daily_hadith.created_at 
FROM daily_hadith 
WHERE daily_hadith.hadith_date = %(hadith_date_1)s
2025-12-30 00:30:02,419 - sqlalchemy.engine.Engine - INFO - [cached since 3.96s ago] {'hadith_date_1': datetime.date(2025, 12, 30)}
2025-12-30 00:30:02,737 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-30 00:30:08,718 - watchfiles.main - INFO - 1 change detected
2025-12-30 00:30:29,472 - watchfiles.main - INFO - 1 change detected
2025-12-30 00:30:46,304 - watchfiles.main - INFO - 1 change detected
2025-12-30 00:31:02,808 - watchfiles.main - INFO - 1 change detected
2025-12-30 00:31:17,786 - watchfiles.main - INFO - 1 change detected
2025-12-30 00:31:34,065 - watchfiles.main - INFO - 1 change detected
2025-12-30 00:31:49,793 - watchfiles.main - INFO - 1 change detected
2025-12-30 00:32:05,172 - watchfiles.main - INFO - 1 change detected
2025-12-30 00:32:14,433 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-30 00:32:14,433 - sqlalchemy.engine.Engine - INFO - SELECT spiritual_tasks.id, spiritual_tasks.title, spiritual_tasks.description, spiritual_tasks.category, spiritual_tasks.priority, spiritual_tasks.tags, spiritual_tasks.masjid_id, spiritual_tasks.due_datetime, spiritual_tasks.recurrence, spiritual_tasks.user_id, spiritual_tasks.minutes_before_prayer, spiritual_tasks.linked_prayer, spiritual_tasks.recurrence_pattern, spiritual_tasks.completed, spiritual_tasks.completed_at, spiritual_tasks.created_at, spiritual_tasks.updated_at 
FROM spiritual_tasks
2025-12-30 00:32:14,434 - sqlalchemy.engine.Engine - INFO - [cached since 133.9s ago] {}
2025-12-30 00:32:14,632 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-30 00:32:15,426 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-30 00:32:15,427 - sqlalchemy.engine.Engine - INFO - SELECT spiritual_tasks.id, spiritual_tasks.title, spiritual_tasks.description, spiritual_tasks.category, spiritual_tasks.priority, spiritual_tasks.tags, spiritual_tasks.masjid_id, spiritual_tasks.due_datetime, spiritual_tasks.recurrence, spiritual_tasks.user_id, spiritual_tasks.minutes_before_prayer, spiritual_tasks.linked_prayer, spiritual_tasks.recurrence_pattern, spiritual_tasks.completed, spiritual_tasks.completed_at, spiritual_tasks.created_at, spiritual_tasks.updated_at 
FROM spiritual_tasks 
WHERE spiritual_tasks.completed = false AND spiritual_tasks.due_datetime IS NOT NULL AND spiritual_tasks.due_datetime >= %(due_datetime_1)s AND spiritual_tasks.due_datetime <= %(due_datetime_2)s ORDER BY spiritual_tasks.due_datetime 
 LIMIT %(param_1)s
2025-12-30 00:32:15,428 - sqlalchemy.engine.Engine - INFO - [cached since 134.2s ago] {'due_datetime_1': datetime.datetime(2025, 12, 29, 19, 32, 14, 635732), 'due_datetime_2': datetime.datetime(2026, 1, 5, 19, 32, 14, 635732), 'param_1': 5}
2025-12-30 00:32:16,722 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-30 00:32:16,722 - sqlalchemy.engine.Engine - INFO - SELECT daily_hadith.id, daily_hadith.hadith_date, daily_hadith.arabic_text, daily_hadith.english_translation, daily_hadith.narrator, daily_hadith.source, daily_hadith.theme, daily_hadith.created_at 
FROM daily_hadith 
WHERE daily_hadith.hadith_date = %(hadith_date_1)s
2025-12-30 00:32:16,723 - sqlalchemy.engine.Engine - INFO - [cached since 134.9s ago] {'hadith_date_1': datetime.date(2025, 12, 30)}
2025-12-30 00:32:17,142 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-30 00:32:17,142 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-30 00:32:17,977 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-30 00:32:17,978 - sqlalchemy.engine.Engine - INFO - SELECT spiritual_tasks.id, spiritual_tasks.title, spiritual_tasks.description, spiritual_tasks.category, spiritual_tasks.priority, spiritual_tasks.tags, spiritual_tasks.masjid_id, spiritual_tasks.due_datetime, spiritual_tasks.recurrence, spiritual_tasks.user_id, spiritual_tasks.minutes_before_prayer, spiritual_tasks.linked_prayer, spiritual_tasks.recurrence_pattern, spiritual_tasks.completed, spiritual_tasks.completed_at, spiritual_tasks.created_at, spiritual_tasks.updated_at 
FROM spiritual_tasks
2025-12-30 00:32:17,979 - sqlalchemy.engine.Engine - INFO - [cached since 137.4s ago] {}
2025-12-30 00:32:18,212 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-30 00:32:19,039 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-30 00:32:19,040 - sqlalchemy.engine.Engine - INFO - SELECT spiritual_tasks.id, spiritual_tasks.title, spiritual_tasks.description, spiritual_tasks.category, spiritual_tasks.priority, spiritual_tasks.tags, spiritual_tasks.masjid_id, spiritual_tasks.due_datetime, spiritual_tasks.recurrence, spiritual_tasks.user_id, spiritual_tasks.minutes_before_prayer, spiritual_tasks.linked_prayer, spiritual_tasks.recurrence_pattern, spiritual_tasks.completed, spiritual_tasks.completed_at, spiritual_tasks.created_at, spiritual_tasks.updated_at 
FROM spiritual_tasks 
WHERE spiritual_tasks.completed = false AND spiritual_tasks.due_datetime IS NOT NULL AND spiritual_tasks.due_datetime >= %(due_datetime_1)s AND spiritual_tasks.due_datetime <= %(due_datetime_2)s ORDER BY spiritual_tasks.due_datetime 
 LIMIT %(param_1)s
2025-12-30 00:32:19,041 - sqlalchemy.engine.Engine - INFO - [cached since 137.8s ago] {'due_datetime_1': datetime.datetime(2025, 12, 29, 19, 32, 18, 216831), 'due_datetime_2': datetime.datetime(2026, 1, 5, 19, 32, 18, 216831), 'param_1': 5}
2025-12-30 00:32:19,383 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-30 00:32:20,004 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-30 00:32:20,005 - sqlalchemy.engine.Engine - INFO - SELECT daily_hadith.id, daily_hadith.hadith_date, daily_hadith.arabic_text, daily_hadith.english_translation, daily_hadith.narrator, daily_hadith.source, daily_hadith.theme, daily_hadith.created_at 
FROM daily_hadith 
WHERE daily_hadith.hadith_date = %(hadith_date_1)s
2025-12-30 00:32:20,006 - sqlalchemy.engine.Engine - INFO - [cached since 138.1s ago] {'hadith_date_1': datetime.date(2025, 12, 30)}
2025-12-30 00:32:20,245 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-30 00:32:20,874 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-30 00:32:20,874 - sqlalchemy.engine.Engine - INFO - SELECT spiritual_tasks.id, spiritual_tasks.title, spiritual_tasks.description, spiritual_tasks.category, spiritual_tasks.priority, spiritual_tasks.tags, spiritual_tasks.masjid_id, spiritual_tasks.due_datetime, spiritual_tasks.recurrence, spiritual_tasks.user_id, spiritual_tasks.minutes_before_prayer, spiritual_tasks.linked_prayer, spiritual_tasks.recurrence_pattern, spiritual_tasks.completed, spiritual_tasks.completed_at, spiritual_tasks.created_at, spiritual_tasks.updated_at 
FROM spiritual_tasks
2025-12-30 00:32:20,875 - sqlalchemy.engine.Engine - INFO - [cached since 140.3s ago] {}
2025-12-30 00:32:21,069 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-30 00:32:22,078 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-30 00:32:22,080 - sqlalchemy.engine.Engine - INFO - SELECT spiritual_tasks.id, spiritual_tasks.title, spiritual_tasks.description, spiritual_tasks.category, spiritual_tasks.priority, spiritual_tasks.tags, spiritual_tasks.masjid_id, spiritual_tasks.due_datetime, spiritual_tasks.recurrence, spiritual_tasks.user_id, spiritual_tasks.minutes_before_prayer, spiritual_tasks.linked_prayer, spiritual_tasks.recurrence_pattern, spiritual_tasks.completed, spiritual_tasks.completed_at, spiritual_tasks.created_at, spiritual_tasks.updated_at 
FROM spiritual_tasks 
WHERE spiritual_tasks.completed = false AND spiritual_tasks.due_datetime IS NOT NULL AND spiritual_tasks.due_datetime >= %(due_datetime_1)s AND spiritual_tasks.due_datetime <= %(due_datetime_2)s ORDER BY spiritual_tasks.due_datetime 
 LIMIT %(param_1)s
2025-12-30 00:32:22,081 - sqlalchemy.engine.Engine - INFO - [cached since 140.9s ago] {'due_datetime_1': datetime.datetime(2025, 12, 29, 19, 32, 21, 70359), 'due_datetime_2': datetime.datetime(2026, 1, 5, 19, 32, 21, 70359), 'param_1': 5}
2025-12-30 00:32:22,457 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-30 00:32:23,511 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-30 00:32:23,512 - sqlalchemy.engine.Engine - INFO - SELECT daily_hadith.id, daily_hadith.hadith_date, daily_hadith.arabic_text, daily_hadith.english_translation, daily_hadith.narrator, daily_hadith.source, daily_hadith.theme, daily_hadith.created_at 
FROM daily_hadith 
WHERE daily_hadith.hadith_date = %(hadith_date_1)s
2025-12-30 00:32:23,512 - sqlalchemy.engine.Engine - INFO - [cached since 141.7s ago] {'hadith_date_1': datetime.date(2025, 12, 30)}
2025-12-30 00:32:23,962 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-30 00:32:24,582 - watchfiles.main - INFO - 1 change detected
2025-12-30 00:32:24,733 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-30 00:32:24,735 - sqlalchemy.engine.Engine - INFO - SELECT spiritual_tasks.id, spiritual_tasks.title, spiritual_tasks.description, spiritual_tasks.category, spiritual_tasks.priority, spiritual_tasks.tags, spiritual_tasks.masjid_id, spiritual_tasks.due_datetime, spiritual_tasks.recurrence, spiritual_tasks.user_id, spiritual_tasks.minutes_before_prayer, spiritual_tasks.linked_prayer, spiritual_tasks.recurrence_pattern, spiritual_tasks.completed, spiritual_tasks.completed_at, spiritual_tasks.created_at, spiritual_tasks.updated_at 
FROM spiritual_tasks
2025-12-30 00:32:24,739 - sqlalchemy.engine.Engine - INFO - [cached since 144.2s ago] {}
2025-12-30 00:32:24,932 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-30 00:32:25,632 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-30 00:32:25,633 - sqlalchemy.engine.Engine - INFO - SELECT spiritual_tasks.id, spiritual_tasks.title, spiritual_tasks.description, spiritual_tasks.category, spiritual_tasks.priority, spiritual_tasks.tags, spiritual_tasks.masjid_id, spiritual_tasks.due_datetime, spiritual_tasks.recurrence, spiritual_tasks.user_id, spiritual_tasks.minutes_before_prayer, spiritual_tasks.linked_prayer, spiritual_tasks.recurrence_pattern, spiritual_tasks.completed, spiritual_tasks.completed_at, spiritual_tasks.created_at, spiritual_tasks.updated_at 
FROM spiritual_tasks 
WHERE spiritual_tasks.completed = false AND spiritual_tasks.due_datetime IS NOT NULL AND spiritual_tasks.due_datetime >= %(due_datetime_1)s AND spiritual_tasks.due_datetime <= %(due_datetime_2)s ORDER BY spiritual_tasks.due_datetime 
 LIMIT %(param_1)s
2025-12-30 00:32:25,633 - sqlalchemy.engine.Engine - INFO - [cached since 144.4s ago] {'due_datetime_1': datetime.datetime(2025, 12, 29, 19, 32, 24, 961951), 'due_datetime_2': datetime.datetime(2026, 1, 5, 19, 32, 24, 961951), 'param_1': 5}
2025-12-30 00:32:25,966 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-30 00:32:26,672 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-30 00:32:26,674 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM masjids
2025-12-30 00:32:26,674 - sqlalchemy.engine.Engine - INFO - [generated in 0.00050s] {}
2025-12-30 00:32:26,918 - sqlalchemy.engine.Engine - INFO - SELECT masjids.id, masjids.name, masjids.area_name, masjids.city, masjids.address, masjids.imam_name, masjids.phone, masjids.latitude, masjids.longitude, masjids.fajr_time, masjids.dhuhr_time, masjids.asr_time, masjids.maghrib_time, masjids.isha_time, masjids.jummah_time, masjids.created_at, masjids.updated_at 
FROM masjids 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-12-30 00:32:26,919 - sqlalchemy.engine.Engine - INFO - [generated in 0.00058s] {'param_1': 100, 'param_2': 0}
2025-12-30 00:32:27,810 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-30 00:32:27,813 - sqlalchemy.engine.Engine - INFO - SELECT spiritual_tasks.id, spiritual_tasks.title, spiritual_tasks.description, spiritual_tasks.category, spiritual_tasks.priority, spiritual_tasks.tags, spiritual_tasks.masjid_id, spiritual_tasks.due_datetime, spiritual_tasks.recurrence, spiritual_tasks.user_id, spiritual_tasks.minutes_before_prayer, spiritual_tasks.linked_prayer, spiritual_tasks.recurrence_pattern, spiritual_tasks.completed, spiritual_tasks.completed_at, spiritual_tasks.created_at, spiritual_tasks.updated_at 
FROM spiritual_tasks ORDER BY spiritual_tasks.created_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-12-30 00:32:27,813 - sqlalchemy.engine.Engine - INFO - [generated in 0.00081s] {'param_1': 100, 'param_2': 0}
2025-12-30 00:32:29,200 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-30 00:32:29,200 - sqlalchemy.engine.Engine - INFO - SELECT daily_hadith.id, daily_hadith.hadith_date, daily_hadith.arabic_text, daily_hadith.english_translation, daily_hadith.narrator, daily_hadith.source, daily_hadith.theme, daily_hadith.created_at 
FROM daily_hadith 
WHERE daily_hadith.hadith_date = %(hadith_date_1)s
2025-12-30 00:32:29,201 - sqlalchemy.engine.Engine - INFO - [cached since 147.3s ago] {'hadith_date_1': datetime.date(2025, 12, 30)}
2025-12-30 00:32:29,632 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-30 00:32:29,633 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-30 00:32:29,633 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-30 00:32:30,491 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-30 00:32:30,492 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM masjids
2025-12-30 00:32:30,492 - sqlalchemy.engine.Engine - INFO - [cached since 3.818s ago] {}
2025-12-30 00:32:30,789 - sqlalchemy.engine.Engine - INFO - SELECT masjids.id, masjids.name, masjids.area_name, masjids.city, masjids.address, masjids.imam_name, masjids.phone, masjids.latitude, masjids.longitude, masjids.fajr_time, masjids.dhuhr_time, masjids.asr_time, masjids.maghrib_time, masjids.isha_time, masjids.jummah_time, masjids.created_at, masjids.updated_at 
FROM masjids 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-12-30 00:32:30,789 - sqlalchemy.engine.Engine - INFO - [cached since 3.871s ago] {'param_1': 100, 'param_2': 0}
2025-12-30 00:32:30,930 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-30 00:32:31,698 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-30 00:32:31,698 - sqlalchemy.engine.Engine - INFO - SELECT spiritual_tasks.id, spiritual_tasks.title, spiritual_tasks.description, spiritual_tasks.category, spiritual_tasks.priority, spiritual_tasks.tags, spiritual_tasks.masjid_id, spiritual_tasks.due_datetime, spiritual_tasks.recurrence, spiritual_tasks.user_id, spiritual_tasks.minutes_before_prayer, spiritual_tasks.linked_prayer, spiritual_tasks.recurrence_pattern, spiritual_tasks.completed, spiritual_tasks.completed_at, spiritual_tasks.created_at, spiritual_tasks.updated_at 
FROM spiritual_tasks ORDER BY spiritual_tasks.created_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-12-30 00:32:31,699 - sqlalchemy.engine.Engine - INFO - [cached since 3.886s ago] {'param_1': 100, 'param_2': 0}
2025-12-30 00:32:31,903 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-30 00:32:33,515 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-30 00:32:33,516 - sqlalchemy.engine.Engine - INFO - SELECT spiritual_tasks.id, spiritual_tasks.title, spiritual_tasks.description, spiritual_tasks.category, spiritual_tasks.priority, spiritual_tasks.tags, spiritual_tasks.masjid_id, spiritual_tasks.due_datetime, spiritual_tasks.recurrence, spiritual_tasks.user_id, spiritual_tasks.minutes_before_prayer, spiritual_tasks.linked_prayer, spiritual_tasks.recurrence_pattern, spiritual_tasks.completed, spiritual_tasks.completed_at, spiritual_tasks.created_at, spiritual_tasks.updated_at 
FROM spiritual_tasks ORDER BY spiritual_tasks.created_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-12-30 00:32:33,516 - sqlalchemy.engine.Engine - INFO - [cached since 5.704s ago] {'param_1': 100, 'param_2': 0}
2025-12-30 00:32:33,813 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-30 00:32:37,117 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-30 00:32:37,119 - sqlalchemy.engine.Engine - INFO - SELECT DISTINCT masjids.area_name 
FROM masjids ORDER BY masjids.area_name
2025-12-30 00:32:37,120 - sqlalchemy.engine.Engine - INFO - [generated in 0.00118s] {}
2025-12-30 00:32:37,301 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-30 00:32:37,857 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-30 00:32:37,858 - sqlalchemy.engine.Engine - INFO - SELECT DISTINCT masjids.area_name 
FROM masjids ORDER BY masjids.area_name
2025-12-30 00:32:37,861 - sqlalchemy.engine.Engine - INFO - [cached since 0.7421s ago] {}
2025-12-30 00:32:38,039 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-30 00:32:38,590 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-30 00:32:38,592 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM masjids
2025-12-30 00:32:38,594 - sqlalchemy.engine.Engine - INFO - [cached since 11.92s ago] {}
2025-12-30 00:32:38,772 - sqlalchemy.engine.Engine - INFO - SELECT masjids.id, masjids.name, masjids.area_name, masjids.city, masjids.address, masjids.imam_name, masjids.phone, masjids.latitude, masjids.longitude, masjids.fajr_time, masjids.dhuhr_time, masjids.asr_time, masjids.maghrib_time, masjids.isha_time, masjids.jummah_time, masjids.created_at, masjids.updated_at 
FROM masjids 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-12-30 00:32:38,773 - sqlalchemy.engine.Engine - INFO - [cached since 11.86s ago] {'param_1': 100, 'param_2': 0}
2025-12-30 00:32:38,865 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-30 00:32:40,360 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-30 00:32:40,361 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM masjids
2025-12-30 00:32:40,361 - sqlalchemy.engine.Engine - INFO - [cached since 12.7s ago] {}
2025-12-30 00:32:40,529 - sqlalchemy.engine.Engine - INFO - SELECT masjids.id, masjids.name, masjids.area_name, masjids.city, masjids.address, masjids.imam_name, masjids.phone, masjids.latitude, masjids.longitude, masjids.fajr_time, masjids.dhuhr_time, masjids.asr_time, masjids.maghrib_time, masjids.isha_time, masjids.jummah_time, masjids.created_at, masjids.updated_at 
FROM masjids 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-12-30 00:32:40,529 - sqlalchemy.engine.Engine - INFO - [cached since 12.62s ago] {'param_1': 100, 'param_2': 0}
2025-12-30 00:32:40,612 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-30 00:32:46,264 - watchfiles.main - INFO - 1 change detected
2025-12-30 00:32:46,867 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-30 00:32:46,868 - sqlalchemy.engine.Engine - INFO - SELECT spiritual_tasks.id, spiritual_tasks.title, spiritual_tasks.description, spiritual_tasks.category, spiritual_tasks.priority, spiritual_tasks.tags, spiritual_tasks.masjid_id, spiritual_tasks.due_datetime, spiritual_tasks.recurrence, spiritual_tasks.user_id, spiritual_tasks.minutes_before_prayer, spiritual_tasks.linked_prayer, spiritual_tasks.recurrence_pattern, spiritual_tasks.completed, spiritual_tasks.completed_at, spiritual_tasks.created_at, spiritual_tasks.updated_at 
FROM spiritual_tasks ORDER BY spiritual_tasks.created_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-12-30 00:32:46,869 - sqlalchemy.engine.Engine - INFO - [cached since 18.07s ago] {'param_1': 100, 'param_2': 0}
2025-12-30 00:32:47,165 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-30 00:32:47,857 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-30 00:32:47,858 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM masjids
2025-12-30 00:32:47,859 - sqlalchemy.engine.Engine - INFO - [cached since 20.19s ago] {}
2025-12-30 00:32:48,055 - sqlalchemy.engine.Engine - INFO - SELECT masjids.id, masjids.name, masjids.area_name, masjids.city, masjids.address, masjids.imam_name, masjids.phone, masjids.latitude, masjids.longitude, masjids.fajr_time, masjids.dhuhr_time, masjids.asr_time, masjids.maghrib_time, masjids.isha_time, masjids.jummah_time, masjids.created_at, masjids.updated_at 
FROM masjids 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-12-30 00:32:48,056 - sqlalchemy.engine.Engine - INFO - [cached since 20.15s ago] {'param_1': 100, 'param_2': 0}
2025-12-30 00:32:48,194 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-30 00:32:49,857 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-30 00:32:49,858 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM masjids
2025-12-30 00:32:49,859 - sqlalchemy.engine.Engine - INFO - [cached since 22.2s ago] {}
2025-12-30 00:32:50,072 - sqlalchemy.engine.Engine - INFO - SELECT masjids.id, masjids.name, masjids.area_name, masjids.city, masjids.address, masjids.imam_name, masjids.phone, masjids.latitude, masjids.longitude, masjids.fajr_time, masjids.dhuhr_time, masjids.asr_time, masjids.maghrib_time, masjids.isha_time, masjids.jummah_time, masjids.created_at, masjids.updated_at 
FROM masjids 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-12-30 00:32:50,073 - sqlalchemy.engine.Engine - INFO - [cached since 22.16s ago] {'param_1': 100, 'param_2': 0}
2025-12-30 00:32:50,172 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-30 00:32:50,865 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-30 00:32:50,866 - sqlalchemy.engine.Engine - INFO - SELECT spiritual_tasks.id, spiritual_tasks.title, spiritual_tasks.description, spiritual_tasks.category, spiritual_tasks.priority, spiritual_tasks.tags, spiritual_tasks.masjid_id, spiritual_tasks.due_datetime, spiritual_tasks.recurrence, spiritual_tasks.user_id, spiritual_tasks.minutes_before_prayer, spiritual_tasks.linked_prayer, spiritual_tasks.recurrence_pattern, spiritual_tasks.completed, spiritual_tasks.completed_at, spiritual_tasks.created_at, spiritual_tasks.updated_at 
FROM spiritual_tasks ORDER BY spiritual_tasks.created_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-12-30 00:32:50,867 - sqlalchemy.engine.Engine - INFO - [cached since 22.06s ago] {'param_1': 100, 'param_2': 0}
2025-12-30 00:32:51,065 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-30 00:32:51,859 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-30 00:32:51,859 - sqlalchemy.engine.Engine - INFO - SELECT spiritual_tasks.id, spiritual_tasks.title, spiritual_tasks.description, spiritual_tasks.category, spiritual_tasks.priority, spiritual_tasks.tags, spiritual_tasks.masjid_id, spiritual_tasks.due_datetime, spiritual_tasks.recurrence, spiritual_tasks.user_id, spiritual_tasks.minutes_before_prayer, spiritual_tasks.linked_prayer, spiritual_tasks.recurrence_pattern, spiritual_tasks.completed, spiritual_tasks.completed_at, spiritual_tasks.created_at, spiritual_tasks.updated_at 
FROM spiritual_tasks ORDER BY spiritual_tasks.created_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-12-30 00:32:51,860 - sqlalchemy.engine.Engine - INFO - [cached since 23.06s ago] {'param_1': 100, 'param_2': 0}
2025-12-30 00:32:52,064 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-30 00:33:03,494 - watchfiles.main - INFO - 1 change detected
2025-12-30 00:33:03,845 - watchfiles.main - INFO - 2 changes detected
2025-12-30 00:33:24,788 - watchfiles.main - INFO - 1 change detected
2025-12-30 00:33:25,139 - watchfiles.main - INFO - 2 changes detected
2025-12-30 00:33:42,083 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-12-30 00:33:42,084 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-30 00:33:42,251 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-12-30 00:33:42,252 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-30 00:33:42,413 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-12-30 00:33:42,414 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-30 00:33:42,577 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-30 00:33:42,582 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:33:42,583 - sqlalchemy.engine.Engine - INFO - [generated in 0.00067s] {'table_name': 'masjids', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-30 00:33:42,860 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:33:42,861 - sqlalchemy.engine.Engine - INFO - [cached since 0.279s ago] {'table_name': 'spiritual_tasks', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-30 00:33:42,959 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:33:42,960 - sqlalchemy.engine.Engine - INFO - [cached since 0.3775s ago] {'table_name': 'daily_hadith', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-30 00:33:43,060 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:33:43,061 - sqlalchemy.engine.Engine - INFO - [generated in 0.00055s] {'typname_1': 'taskcategory', 'nspname_1': 'pg_catalog'}
2025-12-30 00:33:43,159 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:33:43,159 - sqlalchemy.engine.Engine - INFO - [cached since 0.09877s ago] {'typname_1': 'priority', 'nspname_1': 'pg_catalog'}
2025-12-30 00:33:43,258 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:33:43,259 - sqlalchemy.engine.Engine - INFO - [cached since 0.1981s ago] {'typname_1': 'recurrence', 'nspname_1': 'pg_catalog'}
2025-12-30 00:33:43,357 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:33:43,358 - sqlalchemy.engine.Engine - INFO - [cached since 0.2972s ago] {'typname_1': 'linkedprayer', 'nspname_1': 'pg_catalog'}
2025-12-30 00:33:43,455 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-30 00:33:43,555 - routers.chatbot - INFO - Initializing SalaatFlow Agent...
2025-12-30 00:33:43,555 - chatbot.mcp_tools - INFO - ✅ Registered 11 MCP tools for AI agent
2025-12-30 00:33:43,555 - chatbot.agent.agent - INFO - Initializing agent with 11 tools...
2025-12-30 00:33:45,298 - watchfiles.main - INFO - 1 change detected
2025-12-30 00:33:46,534 - watchfiles.main - INFO - 2 changes detected
2025-12-30 00:33:53,281 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/assistants "HTTP/1.1 200 OK"
2025-12-30 00:33:53,293 - chatbot.agent.agent - INFO - ✅ Agent initialized successfully: asst_2tXwOU9plYgGMR73ci4k2hxI
2025-12-30 00:33:53,294 - routers.chatbot - INFO - ✅ Agent ready
2025-12-30 00:34:06,874 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-12-30 00:34:06,879 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-30 00:34:07,041 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-12-30 00:34:07,041 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-30 00:34:07,045 - watchfiles.main - INFO - 3 changes detected
2025-12-30 00:34:07,207 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-12-30 00:34:07,207 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-30 00:34:07,372 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-30 00:34:07,377 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:34:07,377 - sqlalchemy.engine.Engine - INFO - [generated in 0.00058s] {'table_name': 'masjids', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-30 00:34:07,541 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:34:07,541 - sqlalchemy.engine.Engine - INFO - [cached since 0.1646s ago] {'table_name': 'spiritual_tasks', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-30 00:34:07,626 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:34:07,627 - sqlalchemy.engine.Engine - INFO - [cached since 0.2502s ago] {'table_name': 'daily_hadith', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-30 00:34:07,712 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:34:07,712 - sqlalchemy.engine.Engine - INFO - [generated in 0.00067s] {'typname_1': 'taskcategory', 'nspname_1': 'pg_catalog'}
2025-12-30 00:34:07,797 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:34:07,798 - sqlalchemy.engine.Engine - INFO - [cached since 0.08642s ago] {'typname_1': 'priority', 'nspname_1': 'pg_catalog'}
2025-12-30 00:34:07,879 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:34:07,880 - sqlalchemy.engine.Engine - INFO - [cached since 0.1683s ago] {'typname_1': 'recurrence', 'nspname_1': 'pg_catalog'}
2025-12-30 00:34:07,960 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:34:07,961 - sqlalchemy.engine.Engine - INFO - [cached since 0.249s ago] {'typname_1': 'linkedprayer', 'nspname_1': 'pg_catalog'}
2025-12-30 00:34:08,040 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-30 00:34:08,121 - routers.chatbot - INFO - Initializing SalaatFlow Agent...
2025-12-30 00:34:08,122 - chatbot.mcp_tools - INFO - ✅ Registered 11 MCP tools for AI agent
2025-12-30 00:34:08,122 - chatbot.agent.agent - INFO - Initializing agent with 11 tools...
2025-12-30 00:34:12,513 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/assistants "HTTP/1.1 200 OK"
2025-12-30 00:34:12,741 - chatbot.agent.agent - INFO - ✅ Agent initialized successfully: asst_B4ZaUO8qwJ8GHmtkw8BZrDF9
2025-12-30 00:34:12,742 - routers.chatbot - INFO - ✅ Agent ready
2025-12-30 00:34:26,668 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-12-30 00:34:26,670 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-30 00:34:26,927 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-12-30 00:34:26,928 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-30 00:34:27,097 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-12-30 00:34:27,098 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-30 00:34:27,385 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-30 00:34:27,389 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:34:27,390 - sqlalchemy.engine.Engine - INFO - [generated in 0.00067s] {'table_name': 'masjids', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-30 00:34:27,557 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:34:27,557 - sqlalchemy.engine.Engine - INFO - [cached since 0.168s ago] {'table_name': 'spiritual_tasks', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-30 00:34:27,640 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:34:27,640 - sqlalchemy.engine.Engine - INFO - [cached since 0.251s ago] {'table_name': 'daily_hadith', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-30 00:34:27,725 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:34:27,725 - sqlalchemy.engine.Engine - INFO - [generated in 0.00059s] {'typname_1': 'taskcategory', 'nspname_1': 'pg_catalog'}
2025-12-30 00:34:27,812 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:34:27,812 - sqlalchemy.engine.Engine - INFO - [cached since 0.08793s ago] {'typname_1': 'priority', 'nspname_1': 'pg_catalog'}
2025-12-30 00:34:27,898 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:34:27,899 - sqlalchemy.engine.Engine - INFO - [cached since 0.1741s ago] {'typname_1': 'recurrence', 'nspname_1': 'pg_catalog'}
2025-12-30 00:34:27,984 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:34:27,985 - sqlalchemy.engine.Engine - INFO - [cached since 0.2601s ago] {'typname_1': 'linkedprayer', 'nspname_1': 'pg_catalog'}
2025-12-30 00:34:28,069 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-30 00:34:28,156 - routers.chatbot - INFO - Initializing SalaatFlow Agent...
2025-12-30 00:34:28,158 - chatbot.mcp_tools - INFO - ✅ Registered 11 MCP tools for AI agent
2025-12-30 00:34:28,160 - chatbot.agent.agent - INFO - Initializing agent with 11 tools...
2025-12-30 00:34:28,536 - watchfiles.main - INFO - 1 change detected
2025-12-30 00:34:32,975 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/assistants "HTTP/1.1 200 OK"
2025-12-30 00:34:33,298 - chatbot.agent.agent - INFO - ✅ Agent initialized successfully: asst_y4EEcV1f0hJtTlaeE0Nr6Qh6
2025-12-30 00:34:33,298 - routers.chatbot - INFO - ✅ Agent ready
2025-12-30 00:34:46,271 - watchfiles.main - INFO - 1 change detected
2025-12-30 00:35:02,652 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-30 00:35:02,662 - sqlalchemy.engine.Engine - INFO - SELECT spiritual_tasks.id, spiritual_tasks.title, spiritual_tasks.description, spiritual_tasks.category, spiritual_tasks.priority, spiritual_tasks.tags, spiritual_tasks.masjid_id, spiritual_tasks.due_datetime, spiritual_tasks.recurrence, spiritual_tasks.user_id, spiritual_tasks.minutes_before_prayer, spiritual_tasks.linked_prayer, spiritual_tasks.recurrence_pattern, spiritual_tasks.completed, spiritual_tasks.completed_at, spiritual_tasks.created_at, spiritual_tasks.updated_at 
FROM spiritual_tasks
2025-12-30 00:35:02,664 - sqlalchemy.engine.Engine - INFO - [generated in 0.00142s] {}
2025-12-30 00:35:03,311 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-30 00:35:03,313 - sqlalchemy.engine.Engine - INFO - SELECT spiritual_tasks.id, spiritual_tasks.title, spiritual_tasks.description, spiritual_tasks.category, spiritual_tasks.priority, spiritual_tasks.tags, spiritual_tasks.masjid_id, spiritual_tasks.due_datetime, spiritual_tasks.recurrence, spiritual_tasks.user_id, spiritual_tasks.minutes_before_prayer, spiritual_tasks.linked_prayer, spiritual_tasks.recurrence_pattern, spiritual_tasks.completed, spiritual_tasks.completed_at, spiritual_tasks.created_at, spiritual_tasks.updated_at 
FROM spiritual_tasks 
WHERE spiritual_tasks.completed = false AND spiritual_tasks.due_datetime IS NOT NULL AND spiritual_tasks.due_datetime >= %(due_datetime_1)s AND spiritual_tasks.due_datetime <= %(due_datetime_2)s ORDER BY spiritual_tasks.due_datetime 
 LIMIT %(param_1)s
2025-12-30 00:35:03,314 - sqlalchemy.engine.Engine - INFO - [generated in 0.00059s] {'due_datetime_1': datetime.datetime(2025, 12, 29, 19, 35, 2, 827643), 'due_datetime_2': datetime.datetime(2026, 1, 5, 19, 35, 2, 827643), 'param_1': 5}
2025-12-30 00:35:03,470 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-30 00:35:04,077 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-30 00:35:04,079 - sqlalchemy.engine.Engine - INFO - SELECT daily_hadith.id, daily_hadith.hadith_date, daily_hadith.arabic_text, daily_hadith.english_translation, daily_hadith.narrator, daily_hadith.source, daily_hadith.theme, daily_hadith.created_at 
FROM daily_hadith 
WHERE daily_hadith.hadith_date = %(hadith_date_1)s
2025-12-30 00:35:04,080 - sqlalchemy.engine.Engine - INFO - [generated in 0.00069s] {'hadith_date_1': datetime.date(2025, 12, 30)}
2025-12-30 00:35:04,271 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-30 00:35:04,272 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-30 00:35:04,819 - watchfiles.main - INFO - 4 changes detected
2025-12-30 00:35:04,947 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-30 00:35:04,948 - sqlalchemy.engine.Engine - INFO - SELECT spiritual_tasks.id, spiritual_tasks.title, spiritual_tasks.description, spiritual_tasks.category, spiritual_tasks.priority, spiritual_tasks.tags, spiritual_tasks.masjid_id, spiritual_tasks.due_datetime, spiritual_tasks.recurrence, spiritual_tasks.user_id, spiritual_tasks.minutes_before_prayer, spiritual_tasks.linked_prayer, spiritual_tasks.recurrence_pattern, spiritual_tasks.completed, spiritual_tasks.completed_at, spiritual_tasks.created_at, spiritual_tasks.updated_at 
FROM spiritual_tasks
2025-12-30 00:35:04,949 - sqlalchemy.engine.Engine - INFO - [cached since 2.287s ago] {}
2025-12-30 00:35:05,171 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-30 00:35:05,921 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-30 00:35:05,922 - sqlalchemy.engine.Engine - INFO - SELECT spiritual_tasks.id, spiritual_tasks.title, spiritual_tasks.description, spiritual_tasks.category, spiritual_tasks.priority, spiritual_tasks.tags, spiritual_tasks.masjid_id, spiritual_tasks.due_datetime, spiritual_tasks.recurrence, spiritual_tasks.user_id, spiritual_tasks.minutes_before_prayer, spiritual_tasks.linked_prayer, spiritual_tasks.recurrence_pattern, spiritual_tasks.completed, spiritual_tasks.completed_at, spiritual_tasks.created_at, spiritual_tasks.updated_at 
FROM spiritual_tasks 
WHERE spiritual_tasks.completed = false AND spiritual_tasks.due_datetime IS NOT NULL AND spiritual_tasks.due_datetime >= %(due_datetime_1)s AND spiritual_tasks.due_datetime <= %(due_datetime_2)s ORDER BY spiritual_tasks.due_datetime 
 LIMIT %(param_1)s
2025-12-30 00:35:05,923 - sqlalchemy.engine.Engine - INFO - [cached since 2.61s ago] {'due_datetime_1': datetime.datetime(2025, 12, 29, 19, 35, 5, 170468), 'due_datetime_2': datetime.datetime(2026, 1, 5, 19, 35, 5, 170468), 'param_1': 5}
2025-12-30 00:35:06,162 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-30 00:35:06,734 - watchfiles.main - INFO - 1 change detected
2025-12-30 00:35:20,404 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-12-30 00:35:20,405 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-30 00:35:20,621 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-12-30 00:35:20,622 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-30 00:35:20,816 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-12-30 00:35:20,817 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-30 00:35:20,992 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-30 00:35:20,998 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:35:20,999 - sqlalchemy.engine.Engine - INFO - [generated in 0.00085s] {'table_name': 'masjids', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-30 00:35:21,207 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:35:21,208 - sqlalchemy.engine.Engine - INFO - [cached since 0.2095s ago] {'table_name': 'spiritual_tasks', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-30 00:35:21,291 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:35:21,292 - sqlalchemy.engine.Engine - INFO - [cached since 0.2934s ago] {'table_name': 'daily_hadith', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-30 00:35:21,488 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:35:21,489 - sqlalchemy.engine.Engine - INFO - [generated in 0.00060s] {'typname_1': 'taskcategory', 'nspname_1': 'pg_catalog'}
2025-12-30 00:35:21,599 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:35:21,600 - sqlalchemy.engine.Engine - INFO - [cached since 0.1116s ago] {'typname_1': 'priority', 'nspname_1': 'pg_catalog'}
2025-12-30 00:35:21,702 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:35:21,703 - sqlalchemy.engine.Engine - INFO - [cached since 0.2145s ago] {'typname_1': 'recurrence', 'nspname_1': 'pg_catalog'}
2025-12-30 00:35:21,805 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:35:21,805 - sqlalchemy.engine.Engine - INFO - [cached since 0.3169s ago] {'typname_1': 'linkedprayer', 'nspname_1': 'pg_catalog'}
2025-12-30 00:35:21,906 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-30 00:35:22,111 - routers.chatbot - INFO - Initializing SalaatFlow Agent...
2025-12-30 00:35:22,112 - chatbot.mcp_tools - INFO - ✅ Registered 11 MCP tools for AI agent
2025-12-30 00:35:22,112 - chatbot.agent.agent - INFO - Initializing agent with 11 tools...
2025-12-30 00:35:26,319 - watchfiles.main - INFO - 1 change detected
2025-12-30 00:35:32,116 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/assistants "HTTP/1.1 200 OK"
2025-12-30 00:35:32,457 - chatbot.agent.agent - INFO - ✅ Agent initialized successfully: asst_ts0UqIQlYs28N7Csult6WNS5
2025-12-30 00:35:32,457 - routers.chatbot - INFO - ✅ Agent ready
2025-12-30 00:35:33,227 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-30 00:35:33,245 - sqlalchemy.engine.Engine - INFO - SELECT daily_hadith.id, daily_hadith.hadith_date, daily_hadith.arabic_text, daily_hadith.english_translation, daily_hadith.narrator, daily_hadith.source, daily_hadith.theme, daily_hadith.created_at 
FROM daily_hadith 
WHERE daily_hadith.hadith_date = %(hadith_date_1)s
2025-12-30 00:35:33,246 - sqlalchemy.engine.Engine - INFO - [generated in 0.00101s] {'hadith_date_1': datetime.date(2025, 12, 30)}
2025-12-30 00:35:33,550 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-30 00:35:45,107 - watchfiles.main - INFO - 1 change detected
2025-12-30 00:35:47,953 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-30 00:35:47,956 - sqlalchemy.engine.Engine - INFO - SELECT spiritual_tasks.id, spiritual_tasks.title, spiritual_tasks.description, spiritual_tasks.category, spiritual_tasks.priority, spiritual_tasks.tags, spiritual_tasks.masjid_id, spiritual_tasks.due_datetime, spiritual_tasks.recurrence, spiritual_tasks.user_id, spiritual_tasks.minutes_before_prayer, spiritual_tasks.linked_prayer, spiritual_tasks.recurrence_pattern, spiritual_tasks.completed, spiritual_tasks.completed_at, spiritual_tasks.created_at, spiritual_tasks.updated_at 
FROM spiritual_tasks
2025-12-30 00:35:47,957 - sqlalchemy.engine.Engine - INFO - [generated in 0.00080s] {}
2025-12-30 00:35:48,288 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-30 00:35:48,866 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-30 00:35:48,869 - sqlalchemy.engine.Engine - INFO - SELECT spiritual_tasks.id, spiritual_tasks.title, spiritual_tasks.description, spiritual_tasks.category, spiritual_tasks.priority, spiritual_tasks.tags, spiritual_tasks.masjid_id, spiritual_tasks.due_datetime, spiritual_tasks.recurrence, spiritual_tasks.user_id, spiritual_tasks.minutes_before_prayer, spiritual_tasks.linked_prayer, spiritual_tasks.recurrence_pattern, spiritual_tasks.completed, spiritual_tasks.completed_at, spiritual_tasks.created_at, spiritual_tasks.updated_at 
FROM spiritual_tasks 
WHERE spiritual_tasks.completed = false AND spiritual_tasks.due_datetime IS NOT NULL AND spiritual_tasks.due_datetime >= %(due_datetime_1)s AND spiritual_tasks.due_datetime <= %(due_datetime_2)s ORDER BY spiritual_tasks.due_datetime 
 LIMIT %(param_1)s
2025-12-30 00:35:48,869 - sqlalchemy.engine.Engine - INFO - [generated in 0.00079s] {'due_datetime_1': datetime.datetime(2025, 12, 29, 19, 35, 48, 288821), 'due_datetime_2': datetime.datetime(2026, 1, 5, 19, 35, 48, 288821), 'param_1': 5}
2025-12-30 00:35:49,645 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-30 00:35:49,646 - sqlalchemy.engine.Engine - INFO - SELECT daily_hadith.id, daily_hadith.hadith_date, daily_hadith.arabic_text, daily_hadith.english_translation, daily_hadith.narrator, daily_hadith.source, daily_hadith.theme, daily_hadith.created_at 
FROM daily_hadith 
WHERE daily_hadith.hadith_date = %(hadith_date_1)s
2025-12-30 00:35:49,647 - sqlalchemy.engine.Engine - INFO - [cached since 16.4s ago] {'hadith_date_1': datetime.date(2025, 12, 30)}
2025-12-30 00:35:49,874 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-30 00:35:49,875 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-30 00:35:50,568 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-30 00:35:50,569 - sqlalchemy.engine.Engine - INFO - SELECT spiritual_tasks.id, spiritual_tasks.title, spiritual_tasks.description, spiritual_tasks.category, spiritual_tasks.priority, spiritual_tasks.tags, spiritual_tasks.masjid_id, spiritual_tasks.due_datetime, spiritual_tasks.recurrence, spiritual_tasks.user_id, spiritual_tasks.minutes_before_prayer, spiritual_tasks.linked_prayer, spiritual_tasks.recurrence_pattern, spiritual_tasks.completed, spiritual_tasks.completed_at, spiritual_tasks.created_at, spiritual_tasks.updated_at 
FROM spiritual_tasks
2025-12-30 00:35:50,569 - sqlalchemy.engine.Engine - INFO - [cached since 2.613s ago] {}
2025-12-30 00:35:51,303 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-30 00:35:51,304 - sqlalchemy.engine.Engine - INFO - SELECT spiritual_tasks.id, spiritual_tasks.title, spiritual_tasks.description, spiritual_tasks.category, spiritual_tasks.priority, spiritual_tasks.tags, spiritual_tasks.masjid_id, spiritual_tasks.due_datetime, spiritual_tasks.recurrence, spiritual_tasks.user_id, spiritual_tasks.minutes_before_prayer, spiritual_tasks.linked_prayer, spiritual_tasks.recurrence_pattern, spiritual_tasks.completed, spiritual_tasks.completed_at, spiritual_tasks.created_at, spiritual_tasks.updated_at 
FROM spiritual_tasks 
WHERE spiritual_tasks.completed = false AND spiritual_tasks.due_datetime IS NOT NULL AND spiritual_tasks.due_datetime >= %(due_datetime_1)s AND spiritual_tasks.due_datetime <= %(due_datetime_2)s ORDER BY spiritual_tasks.due_datetime 
 LIMIT %(param_1)s
2025-12-30 00:35:51,305 - sqlalchemy.engine.Engine - INFO - [cached since 2.437s ago] {'due_datetime_1': datetime.datetime(2025, 12, 29, 19, 35, 50, 769115), 'due_datetime_2': datetime.datetime(2026, 1, 5, 19, 35, 50, 769115), 'param_1': 5}
2025-12-30 00:35:51,463 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-30 00:35:51,465 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-30 00:35:52,047 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-30 00:35:52,047 - sqlalchemy.engine.Engine - INFO - SELECT daily_hadith.id, daily_hadith.hadith_date, daily_hadith.arabic_text, daily_hadith.english_translation, daily_hadith.narrator, daily_hadith.source, daily_hadith.theme, daily_hadith.created_at 
FROM daily_hadith 
WHERE daily_hadith.hadith_date = %(hadith_date_1)s
2025-12-30 00:35:52,048 - sqlalchemy.engine.Engine - INFO - [cached since 18.8s ago] {'hadith_date_1': datetime.date(2025, 12, 30)}
2025-12-30 00:35:52,254 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-30 00:35:52,764 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-30 00:35:52,765 - sqlalchemy.engine.Engine - INFO - SELECT DISTINCT masjids.area_name 
FROM masjids ORDER BY masjids.area_name
2025-12-30 00:35:52,766 - sqlalchemy.engine.Engine - INFO - [generated in 0.00074s] {}
2025-12-30 00:35:52,939 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-30 00:35:53,557 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-30 00:35:53,559 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM masjids
2025-12-30 00:35:53,559 - sqlalchemy.engine.Engine - INFO - [generated in 0.00065s] {}
2025-12-30 00:35:53,738 - sqlalchemy.engine.Engine - INFO - SELECT masjids.id, masjids.name, masjids.area_name, masjids.city, masjids.address, masjids.imam_name, masjids.phone, masjids.latitude, masjids.longitude, masjids.fajr_time, masjids.dhuhr_time, masjids.asr_time, masjids.maghrib_time, masjids.isha_time, masjids.jummah_time, masjids.created_at, masjids.updated_at 
FROM masjids 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-12-30 00:35:53,739 - sqlalchemy.engine.Engine - INFO - [generated in 0.00066s] {'param_1': 100, 'param_2': 0}
2025-12-30 00:35:54,657 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-30 00:35:54,658 - sqlalchemy.engine.Engine - INFO - SELECT DISTINCT masjids.area_name 
FROM masjids ORDER BY masjids.area_name
2025-12-30 00:35:54,658 - sqlalchemy.engine.Engine - INFO - [cached since 1.893s ago] {}
2025-12-30 00:35:54,956 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-30 00:35:54,957 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-30 00:35:55,653 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-30 00:35:55,654 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM masjids
2025-12-30 00:35:55,654 - sqlalchemy.engine.Engine - INFO - [cached since 2.096s ago] {}
2025-12-30 00:35:55,853 - sqlalchemy.engine.Engine - INFO - SELECT masjids.id, masjids.name, masjids.area_name, masjids.city, masjids.address, masjids.imam_name, masjids.phone, masjids.latitude, masjids.longitude, masjids.fajr_time, masjids.dhuhr_time, masjids.asr_time, masjids.maghrib_time, masjids.isha_time, masjids.jummah_time, masjids.created_at, masjids.updated_at 
FROM masjids 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-12-30 00:35:55,853 - sqlalchemy.engine.Engine - INFO - [cached since 2.115s ago] {'param_1': 100, 'param_2': 0}
2025-12-30 00:35:55,954 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-30 00:36:04,626 - watchfiles.main - INFO - 1 change detected
2025-12-30 00:36:12,356 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-30 00:36:12,356 - sqlalchemy.engine.Engine - INFO - SELECT DISTINCT masjids.area_name 
FROM masjids ORDER BY masjids.area_name
2025-12-30 00:36:12,357 - sqlalchemy.engine.Engine - INFO - [cached since 18.51s ago] {}
2025-12-30 00:36:12,666 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-30 00:36:13,261 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-30 00:36:13,262 - sqlalchemy.engine.Engine - INFO - SELECT DISTINCT masjids.area_name 
FROM masjids ORDER BY masjids.area_name
2025-12-30 00:36:13,263 - sqlalchemy.engine.Engine - INFO - [cached since 19.41s ago] {}
2025-12-30 00:36:13,463 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-30 00:36:14,059 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-30 00:36:14,060 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM masjids
2025-12-30 00:36:14,061 - sqlalchemy.engine.Engine - INFO - [cached since 19.42s ago] {}
2025-12-30 00:36:14,259 - sqlalchemy.engine.Engine - INFO - SELECT masjids.id, masjids.name, masjids.area_name, masjids.city, masjids.address, masjids.imam_name, masjids.phone, masjids.latitude, masjids.longitude, masjids.fajr_time, masjids.dhuhr_time, masjids.asr_time, masjids.maghrib_time, masjids.isha_time, masjids.jummah_time, masjids.created_at, masjids.updated_at 
FROM masjids 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-12-30 00:36:14,260 - sqlalchemy.engine.Engine - INFO - [cached since 19.44s ago] {'param_1': 100, 'param_2': 0}
2025-12-30 00:36:14,360 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-30 00:36:15,056 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-30 00:36:15,056 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM masjids
2025-12-30 00:36:15,057 - sqlalchemy.engine.Engine - INFO - [cached since 20.41s ago] {}
2025-12-30 00:36:15,256 - sqlalchemy.engine.Engine - INFO - SELECT masjids.id, masjids.name, masjids.area_name, masjids.city, masjids.address, masjids.imam_name, masjids.phone, masjids.latitude, masjids.longitude, masjids.fajr_time, masjids.dhuhr_time, masjids.asr_time, masjids.maghrib_time, masjids.isha_time, masjids.jummah_time, masjids.created_at, masjids.updated_at 
FROM masjids 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-12-30 00:36:15,256 - sqlalchemy.engine.Engine - INFO - [cached since 20.43s ago] {'param_1': 100, 'param_2': 0}
2025-12-30 00:36:15,357 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-30 00:36:22,056 - watchfiles.main - INFO - 1 change detected
2025-12-30 00:36:27,798 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-30 00:36:27,800 - sqlalchemy.engine.Engine - INFO - SELECT masjids.id AS masjids_id, masjids.name AS masjids_name, masjids.area_name AS masjids_area_name, masjids.city AS masjids_city, masjids.address AS masjids_address, masjids.imam_name AS masjids_imam_name, masjids.phone AS masjids_phone, masjids.latitude AS masjids_latitude, masjids.longitude AS masjids_longitude, masjids.fajr_time AS masjids_fajr_time, masjids.dhuhr_time AS masjids_dhuhr_time, masjids.asr_time AS masjids_asr_time, masjids.maghrib_time AS masjids_maghrib_time, masjids.isha_time AS masjids_isha_time, masjids.jummah_time AS masjids_jummah_time, masjids.created_at AS masjids_created_at, masjids.updated_at AS masjids_updated_at 
FROM masjids 
WHERE masjids.id = %(pk_1)s
2025-12-30 00:36:27,801 - sqlalchemy.engine.Engine - INFO - [generated in 0.00071s] {'pk_1': 13}
2025-12-30 00:36:28,001 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-30 00:36:28,595 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-30 00:36:28,596 - sqlalchemy.engine.Engine - INFO - SELECT masjids.id AS masjids_id, masjids.name AS masjids_name, masjids.area_name AS masjids_area_name, masjids.city AS masjids_city, masjids.address AS masjids_address, masjids.imam_name AS masjids_imam_name, masjids.phone AS masjids_phone, masjids.latitude AS masjids_latitude, masjids.longitude AS masjids_longitude, masjids.fajr_time AS masjids_fajr_time, masjids.dhuhr_time AS masjids_dhuhr_time, masjids.asr_time AS masjids_asr_time, masjids.maghrib_time AS masjids_maghrib_time, masjids.isha_time AS masjids_isha_time, masjids.jummah_time AS masjids_jummah_time, masjids.created_at AS masjids_created_at, masjids.updated_at AS masjids_updated_at 
FROM masjids 
WHERE masjids.id = %(pk_1)s
2025-12-30 00:36:28,596 - sqlalchemy.engine.Engine - INFO - [cached since 0.796s ago] {'pk_1': 13}
2025-12-30 00:36:28,796 - sqlalchemy.engine.Engine - INFO - SELECT spiritual_tasks.id, spiritual_tasks.title, spiritual_tasks.description, spiritual_tasks.category, spiritual_tasks.priority, spiritual_tasks.tags, spiritual_tasks.masjid_id, spiritual_tasks.due_datetime, spiritual_tasks.recurrence, spiritual_tasks.user_id, spiritual_tasks.minutes_before_prayer, spiritual_tasks.linked_prayer, spiritual_tasks.recurrence_pattern, spiritual_tasks.completed, spiritual_tasks.completed_at, spiritual_tasks.created_at, spiritual_tasks.updated_at 
FROM spiritual_tasks 
WHERE spiritual_tasks.masjid_id = %(masjid_id_1)s AND spiritual_tasks.completed = false
2025-12-30 00:36:28,797 - sqlalchemy.engine.Engine - INFO - [generated in 0.00082s] {'masjid_id_1': 13}
2025-12-30 00:36:28,897 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-30 00:36:29,491 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-30 00:36:29,492 - sqlalchemy.engine.Engine - INFO - SELECT masjids.id AS masjids_id, masjids.name AS masjids_name, masjids.area_name AS masjids_area_name, masjids.city AS masjids_city, masjids.address AS masjids_address, masjids.imam_name AS masjids_imam_name, masjids.phone AS masjids_phone, masjids.latitude AS masjids_latitude, masjids.longitude AS masjids_longitude, masjids.fajr_time AS masjids_fajr_time, masjids.dhuhr_time AS masjids_dhuhr_time, masjids.asr_time AS masjids_asr_time, masjids.maghrib_time AS masjids_maghrib_time, masjids.isha_time AS masjids_isha_time, masjids.jummah_time AS masjids_jummah_time, masjids.created_at AS masjids_created_at, masjids.updated_at AS masjids_updated_at 
FROM masjids 
WHERE masjids.id = %(pk_1)s
2025-12-30 00:36:29,493 - sqlalchemy.engine.Engine - INFO - [cached since 1.692s ago] {'pk_1': 13}
2025-12-30 00:36:29,691 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-30 00:36:30,288 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-30 00:36:30,288 - sqlalchemy.engine.Engine - INFO - SELECT masjids.id AS masjids_id, masjids.name AS masjids_name, masjids.area_name AS masjids_area_name, masjids.city AS masjids_city, masjids.address AS masjids_address, masjids.imam_name AS masjids_imam_name, masjids.phone AS masjids_phone, masjids.latitude AS masjids_latitude, masjids.longitude AS masjids_longitude, masjids.fajr_time AS masjids_fajr_time, masjids.dhuhr_time AS masjids_dhuhr_time, masjids.asr_time AS masjids_asr_time, masjids.maghrib_time AS masjids_maghrib_time, masjids.isha_time AS masjids_isha_time, masjids.jummah_time AS masjids_jummah_time, masjids.created_at AS masjids_created_at, masjids.updated_at AS masjids_updated_at 
FROM masjids 
WHERE masjids.id = %(pk_1)s
2025-12-30 00:36:30,289 - sqlalchemy.engine.Engine - INFO - [cached since 2.489s ago] {'pk_1': 13}
2025-12-30 00:36:30,487 - sqlalchemy.engine.Engine - INFO - SELECT spiritual_tasks.id, spiritual_tasks.title, spiritual_tasks.description, spiritual_tasks.category, spiritual_tasks.priority, spiritual_tasks.tags, spiritual_tasks.masjid_id, spiritual_tasks.due_datetime, spiritual_tasks.recurrence, spiritual_tasks.user_id, spiritual_tasks.minutes_before_prayer, spiritual_tasks.linked_prayer, spiritual_tasks.recurrence_pattern, spiritual_tasks.completed, spiritual_tasks.completed_at, spiritual_tasks.created_at, spiritual_tasks.updated_at 
FROM spiritual_tasks 
WHERE spiritual_tasks.masjid_id = %(masjid_id_1)s AND spiritual_tasks.completed = false
2025-12-30 00:36:30,488 - sqlalchemy.engine.Engine - INFO - [cached since 1.691s ago] {'masjid_id_1': 13}
2025-12-30 00:36:30,588 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-30 00:36:42,183 - watchfiles.main - INFO - 1 change detected
2025-12-30 00:36:55,139 - routers.chatbot - INFO - User 1 (en): prayer time at masjid alhuda
2025-12-30 00:36:55,140 - chatbot.agent.agent - INFO - Running agent for user 1: prayer time at masjid alhuda...
2025-12-30 00:36:57,059 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/threads "HTTP/1.1 200 OK"
2025-12-30 00:36:57,758 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/threads/thread_B0ooqw1Y7OuJhMnOXcY1xWbR/messages "HTTP/1.1 200 OK"
2025-12-30 00:36:57,907 - watchfiles.main - INFO - 1 change detected
2025-12-30 00:36:58,353 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/threads/thread_B0ooqw1Y7OuJhMnOXcY1xWbR/messages "HTTP/1.1 200 OK"
2025-12-30 00:36:59,549 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/threads/thread_B0ooqw1Y7OuJhMnOXcY1xWbR/runs "HTTP/1.1 200 OK"
2025-12-30 00:37:01,042 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/threads/thread_B0ooqw1Y7OuJhMnOXcY1xWbR/runs/run_VBW6VxPn74uQ6uKCEDIOahzh "HTTP/1.1 200 OK"
2025-12-30 00:37:02,733 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/threads/thread_B0ooqw1Y7OuJhMnOXcY1xWbR/runs/run_VBW6VxPn74uQ6uKCEDIOahzh "HTTP/1.1 200 OK"
2025-12-30 00:37:05,723 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/threads/thread_B0ooqw1Y7OuJhMnOXcY1xWbR/runs/run_VBW6VxPn74uQ6uKCEDIOahzh "HTTP/1.1 200 OK"
2025-12-30 00:37:08,030 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/threads/thread_B0ooqw1Y7OuJhMnOXcY1xWbR/runs/run_VBW6VxPn74uQ6uKCEDIOahzh "HTTP/1.1 200 OK"
2025-12-30 00:37:08,232 - chatbot.agent.agent - ERROR - Agent run failed: LastError(code='rate_limit_exceeded', message='You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.')
2025-12-30 00:37:08,232 - routers.chatbot - INFO - Agent response: I encountered an error processing your request. Please try again....
2025-12-30 00:37:15,130 - watchfiles.main - INFO - 1 change detected
2025-12-30 00:37:31,360 - watchfiles.main - INFO - 1 change detected
2025-12-30 00:37:42,696 - routers.chatbot - INFO - User 1 (en): fajr tomorrow?
2025-12-30 00:37:42,696 - chatbot.agent.agent - INFO - Running agent for user 1: fajr tomorrow?...
2025-12-30 00:37:44,254 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/threads "HTTP/1.1 200 OK"
2025-12-30 00:37:45,160 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/threads/thread_y7iuKDNvgaUlBPKcnHxSp0KV/messages "HTTP/1.1 200 OK"
2025-12-30 00:37:45,749 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/threads/thread_y7iuKDNvgaUlBPKcnHxSp0KV/messages "HTTP/1.1 200 OK"
2025-12-30 00:37:46,546 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/threads/thread_y7iuKDNvgaUlBPKcnHxSp0KV/messages "HTTP/1.1 200 OK"
2025-12-30 00:37:47,234 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/threads/thread_y7iuKDNvgaUlBPKcnHxSp0KV/messages "HTTP/1.1 200 OK"
2025-12-30 00:37:48,017 - watchfiles.main - INFO - 1 change detected
2025-12-30 00:37:48,798 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/threads/thread_y7iuKDNvgaUlBPKcnHxSp0KV/runs "HTTP/1.1 200 OK"
2025-12-30 00:37:50,263 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/threads/thread_y7iuKDNvgaUlBPKcnHxSp0KV/runs/run_nAzxTNIPbPDJuMNr3rZN1zay "HTTP/1.1 200 OK"
2025-12-30 00:37:52,218 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/threads/thread_y7iuKDNvgaUlBPKcnHxSp0KV/runs/run_nAzxTNIPbPDJuMNr3rZN1zay "HTTP/1.1 200 OK"
2025-12-30 00:37:54,273 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/threads/thread_y7iuKDNvgaUlBPKcnHxSp0KV/runs/run_nAzxTNIPbPDJuMNr3rZN1zay "HTTP/1.1 200 OK"
2025-12-30 00:37:55,978 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/threads/thread_y7iuKDNvgaUlBPKcnHxSp0KV/runs/run_nAzxTNIPbPDJuMNr3rZN1zay "HTTP/1.1 200 OK"
2025-12-30 00:37:55,980 - chatbot.agent.agent - ERROR - Agent run failed: LastError(code='rate_limit_exceeded', message='You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.')
2025-12-30 00:37:55,981 - routers.chatbot - INFO - Agent response: I encountered an error processing your request. Please try again....
2025-12-30 00:38:03,444 - watchfiles.main - INFO - 1 change detected
2025-12-30 00:38:19,773 - watchfiles.main - INFO - 1 change detected
2025-12-30 00:38:35,348 - watchfiles.main - INFO - 1 change detected
2025-12-30 00:38:53,179 - watchfiles.main - INFO - 1 change detected
2025-12-30 00:39:09,650 - routers.chatbot - INFO - User 1 (ur): Mujhe aaj ke tasks dikhao
2025-12-30 00:39:09,651 - chatbot.agent.agent - INFO - Running agent for user 1: Mujhe aaj ke tasks dikhao...
2025-12-30 00:39:09,807 - watchfiles.main - INFO - 1 change detected
2025-12-30 00:39:10,327 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/threads "HTTP/1.1 200 OK"
2025-12-30 00:39:10,816 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/threads/thread_PBjd8pQ4CENoBoKrFmWV8ruJ/messages "HTTP/1.1 200 OK"
2025-12-30 00:39:11,967 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/threads/thread_PBjd8pQ4CENoBoKrFmWV8ruJ/runs "HTTP/1.1 200 OK"
2025-12-30 00:39:13,813 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/threads/thread_PBjd8pQ4CENoBoKrFmWV8ruJ/runs/run_6EsJrT3Jpj4i5NoOVI3bJ0jh "HTTP/1.1 200 OK"
2025-12-30 00:39:15,620 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/threads/thread_PBjd8pQ4CENoBoKrFmWV8ruJ/runs/run_6EsJrT3Jpj4i5NoOVI3bJ0jh "HTTP/1.1 200 OK"
2025-12-30 00:39:17,401 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/threads/thread_PBjd8pQ4CENoBoKrFmWV8ruJ/runs/run_6EsJrT3Jpj4i5NoOVI3bJ0jh "HTTP/1.1 200 OK"
2025-12-30 00:39:20,656 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/threads/thread_PBjd8pQ4CENoBoKrFmWV8ruJ/runs/run_6EsJrT3Jpj4i5NoOVI3bJ0jh "HTTP/1.1 200 OK"
2025-12-30 00:39:20,962 - chatbot.agent.agent - ERROR - Agent run failed: LastError(code='rate_limit_exceeded', message='You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.')
2025-12-30 00:39:20,962 - routers.chatbot - INFO - Agent response: I encountered an error processing your request. Please try again....
2025-12-30 00:39:27,323 - watchfiles.main - INFO - 1 change detected
2025-12-30 00:39:42,897 - watchfiles.main - INFO - 1 change detected
2025-12-30 00:39:59,632 - watchfiles.main - INFO - 1 change detected
2025-12-30 00:40:14,453 - watchfiles.main - INFO - 1 change detected
2025-12-30 00:40:30,601 - watchfiles.main - INFO - 1 change detected
2025-12-30 00:40:45,674 - watchfiles.main - INFO - 1 change detected
2025-12-30 00:41:02,290 - watchfiles.main - INFO - 1 change detected
2025-12-30 00:41:18,919 - watchfiles.main - INFO - 1 change detected
2025-12-30 00:41:38,246 - watchfiles.main - INFO - 1 change detected
2025-12-30 00:41:54,421 - watchfiles.main - INFO - 3 changes detected
2025-12-30 00:42:12,537 - watchfiles.main - INFO - 5 changes detected
2025-12-30 00:42:29,219 - watchfiles.main - INFO - 2 changes detected
2025-12-30 00:42:29,570 - watchfiles.main - INFO - 1 change detected
2025-12-30 00:42:46,439 - watchfiles.main - INFO - 2 changes detected
2025-12-30 00:42:46,801 - watchfiles.main - INFO - 1 change detected
2025-12-30 00:43:03,531 - watchfiles.main - INFO - 4 changes detected
2025-12-30 00:43:03,892 - watchfiles.main - INFO - 1 change detected
2025-12-30 00:43:21,572 - watchfiles.main - INFO - 2 changes detected
2025-12-30 00:43:38,805 - watchfiles.main - INFO - 3 changes detected
2025-12-30 00:43:56,411 - watchfiles.main - INFO - 1 change detected
2025-12-30 00:44:14,241 - watchfiles.main - INFO - 2 changes detected
2025-12-30 00:44:14,592 - watchfiles.main - INFO - 1 change detected
2025-12-30 00:44:39,857 - watchfiles.main - INFO - 1 change detected
2025-12-30 00:44:47,072 - watchfiles.main - INFO - 88 changes detected
2025-12-30 00:44:47,689 - watchfiles.main - INFO - 51 changes detected
2025-12-30 00:44:49,206 - watchfiles.main - INFO - 21 changes detected
2025-12-30 00:44:50,474 - watchfiles.main - INFO - 1 change detected
2025-12-30 00:44:52,080 - watchfiles.main - INFO - 20 changes detected
2025-12-30 00:44:55,514 - watchfiles.main - INFO - 125 changes detected
2025-12-30 00:44:56,493 - watchfiles.main - INFO - 148 changes detected
2025-12-30 00:45:08,807 - watchfiles.main - INFO - 6 changes detected
2025-12-30 00:45:09,710 - watchfiles.main - INFO - 354 changes detected
2025-12-30 00:45:11,066 - watchfiles.main - INFO - 51 changes detected
2025-12-30 00:45:11,584 - watchfiles.main - INFO - 38 changes detected
2025-12-30 00:45:14,605 - watchfiles.main - INFO - 21 changes detected
2025-12-30 00:45:16,021 - watchfiles.main - INFO - 2 changes detected
2025-12-30 00:45:18,127 - watchfiles.main - INFO - 9 changes detected
2025-12-30 00:45:18,830 - watchfiles.main - INFO - 2 changes detected
2025-12-30 00:45:19,216 - watchfiles.main - INFO - 20 changes detected
2025-12-30 00:45:21,534 - watchfiles.main - INFO - 812 changes detected
2025-12-30 00:45:22,023 - watchfiles.main - INFO - 173 changes detected
2025-12-30 00:45:22,546 - watchfiles.main - INFO - 165 changes detected
2025-12-30 00:45:22,934 - watchfiles.main - INFO - 21 changes detected
2025-12-30 00:45:31,610 - watchfiles.main - INFO - 74 changes detected
2025-12-30 00:45:32,228 - watchfiles.main - INFO - 275 changes detected
2025-12-30 00:45:33,283 - watchfiles.main - INFO - 38 changes detected
2025-12-30 00:45:35,858 - watchfiles.main - INFO - 3 changes detected
2025-12-30 00:45:37,112 - watchfiles.main - INFO - 4 changes detected
2025-12-30 00:45:41,287 - watchfiles.main - INFO - 377 changes detected
2025-12-30 00:45:43,171 - watchfiles.main - INFO - 450 changes detected
2025-12-30 00:45:45,168 - watchfiles.main - INFO - 511 changes detected
2025-12-30 00:45:45,969 - watchfiles.main - INFO - 233 changes detected
2025-12-30 00:45:47,053 - watchfiles.main - INFO - 17 changes detected
2025-12-30 00:45:47,412 - watchfiles.main - INFO - 21 changes detected
2025-12-30 00:45:55,989 - watchfiles.main - INFO - 68 changes detected
2025-12-30 00:45:56,902 - watchfiles.main - INFO - 9 changes detected
2025-12-30 00:46:02,704 - watchfiles.main - INFO - 2 changes detected
2025-12-30 00:46:03,055 - watchfiles.main - INFO - 3 changes detected
2025-12-30 00:46:04,659 - watchfiles.main - INFO - 809 changes detected
2025-12-30 00:46:05,498 - watchfiles.main - INFO - 3 changes detected
2025-12-30 00:46:06,100 - watchfiles.main - INFO - 383 changes detected
2025-12-30 00:46:12,985 - watchfiles.main - INFO - 1 change detected
2025-12-30 00:46:15,491 - watchfiles.main - INFO - 547 changes detected
2025-12-30 00:46:16,423 - watchfiles.main - INFO - 145 changes detected
2025-12-30 00:46:17,946 - watchfiles.main - INFO - 17 changes detected
2025-12-30 00:46:28,163 - watchfiles.main - INFO - 2 changes detected
2025-12-30 00:46:28,864 - watchfiles.main - INFO - 1 change detected
2025-12-30 00:46:29,465 - watchfiles.main - INFO - 18 changes detected
2025-12-30 00:46:29,817 - watchfiles.main - INFO - 145 changes detected
2025-12-30 00:46:30,486 - watchfiles.main - INFO - 10 changes detected
2025-12-30 00:46:52,312 - watchfiles.main - INFO - 1 change detected
2025-12-30 00:47:16,636 - watchfiles.main - INFO - 2 changes detected
2025-12-30 00:47:16,989 - watchfiles.main - INFO - 1 change detected
2025-12-30 00:48:50,826 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-12-30 00:48:50,826 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-30 00:48:51,021 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-12-30 00:48:51,022 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-30 00:48:51,214 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-12-30 00:48:51,214 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-30 00:48:51,405 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-30 00:48:51,414 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:48:51,414 - sqlalchemy.engine.Engine - INFO - [generated in 0.00059s] {'table_name': 'masjids', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-30 00:48:51,603 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:48:51,603 - sqlalchemy.engine.Engine - INFO - [cached since 0.1892s ago] {'table_name': 'spiritual_tasks', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-30 00:48:51,701 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:48:51,701 - sqlalchemy.engine.Engine - INFO - [cached since 0.2873s ago] {'table_name': 'daily_hadith', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-30 00:48:51,800 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:48:51,800 - sqlalchemy.engine.Engine - INFO - [generated in 0.00049s] {'typname_1': 'taskcategory', 'nspname_1': 'pg_catalog'}
2025-12-30 00:48:51,899 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:48:51,899 - sqlalchemy.engine.Engine - INFO - [cached since 0.09956s ago] {'typname_1': 'priority', 'nspname_1': 'pg_catalog'}
2025-12-30 00:48:51,996 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:48:51,996 - sqlalchemy.engine.Engine - INFO - [cached since 0.1966s ago] {'typname_1': 'recurrence', 'nspname_1': 'pg_catalog'}
2025-12-30 00:48:52,094 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:48:52,095 - sqlalchemy.engine.Engine - INFO - [cached since 0.2951s ago] {'typname_1': 'linkedprayer', 'nspname_1': 'pg_catalog'}
2025-12-30 00:48:52,190 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-30 00:48:52,287 - routers.chatbot - INFO - Initializing SalaatFlow Agent...
2025-12-30 00:48:52,288 - chatbot.mcp_tools - INFO - ✅ Registered 11 MCP tools for Gemini agent
2025-12-30 00:48:52,289 - chatbot.agent.agent - INFO - Initializing Gemini agent with 11 tools...
2025-12-30 00:48:52,291 - chatbot.agent.agent - INFO - ✅ Gemini agent initialized successfully
2025-12-30 00:48:52,291 - routers.chatbot - INFO - ✅ Agent ready
2025-12-30 00:49:10,588 - routers.chatbot - INFO - User 1 (ur): Mujhe aaj ke tasks dikhao
2025-12-30 00:49:10,588 - chatbot.agent.agent - INFO - Running Gemini agent for user 1: Mujhe aaj ke tasks dikhao...
2025-12-30 00:49:11,715 - chatbot.agent.agent - ERROR - Error running Gemini agent: 404 models/gemini-1.5-flash is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.
Traceback (most recent call last):
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/chatbot/agent/agent.py", line 95, in run_agent
    response = chat.send_message(user_message)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/venv/lib/python3.12/site-packages/google/generativeai/generative_models.py", line 578, in send_message
    response = self.model.generate_content(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/venv/lib/python3.12/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/venv/lib/python3.12/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 835, in generate_content
    response = rpc(
               ^^^^
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/venv/lib/python3.12/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/venv/lib/python3.12/site-packages/google/api_core/retry/retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
           ^^^^^^^^^^^^^
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/venv/lib/python3.12/site-packages/google/api_core/retry/retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
                 ^^^^^^^^^^^^^^^^^^^^
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/venv/lib/python3.12/site-packages/google/api_core/retry/retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/venv/lib/python3.12/site-packages/google/api_core/retry/retry_unary.py", line 147, in retry_target
    result = target()
             ^^^^^^^^
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/venv/lib/python3.12/site-packages/google/api_core/timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/venv/lib/python3.12/site-packages/google/api_core/grpc_helpers.py", line 77, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.NotFound: 404 models/gemini-1.5-flash is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.
2025-12-30 00:49:11,759 - routers.chatbot - INFO - Agent response: I encountered an unexpected error. Please try again....
2025-12-30 00:49:38,659 - routers.chatbot - INFO - User 1 (ur): Salam! Main kaun hoon?
2025-12-30 00:49:38,660 - chatbot.agent.agent - INFO - Running Gemini agent for user 1: Salam! Main kaun hoon?...
2025-12-30 00:49:38,865 - chatbot.agent.agent - ERROR - Error running Gemini agent: 404 models/gemini-1.5-flash is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.
Traceback (most recent call last):
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/chatbot/agent/agent.py", line 95, in run_agent
    response = chat.send_message(user_message)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/venv/lib/python3.12/site-packages/google/generativeai/generative_models.py", line 578, in send_message
    response = self.model.generate_content(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/venv/lib/python3.12/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/venv/lib/python3.12/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 835, in generate_content
    response = rpc(
               ^^^^
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/venv/lib/python3.12/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/venv/lib/python3.12/site-packages/google/api_core/retry/retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
           ^^^^^^^^^^^^^
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/venv/lib/python3.12/site-packages/google/api_core/retry/retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
                 ^^^^^^^^^^^^^^^^^^^^
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/venv/lib/python3.12/site-packages/google/api_core/retry/retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/venv/lib/python3.12/site-packages/google/api_core/retry/retry_unary.py", line 147, in retry_target
    result = target()
             ^^^^^^^^
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/venv/lib/python3.12/site-packages/google/api_core/timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/venv/lib/python3.12/site-packages/google/api_core/grpc_helpers.py", line 77, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.NotFound: 404 models/gemini-1.5-flash is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.
2025-12-30 00:49:38,885 - routers.chatbot - INFO - Agent response: I encountered an unexpected error. Please try again....
2025-12-30 00:50:08,174 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-12-30 00:50:08,174 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-30 00:50:08,381 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-12-30 00:50:08,381 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-30 00:50:08,579 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-12-30 00:50:08,579 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-30 00:50:08,776 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-30 00:50:08,784 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:50:08,784 - sqlalchemy.engine.Engine - INFO - [generated in 0.00059s] {'table_name': 'masjids', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-30 00:50:08,974 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:50:08,975 - sqlalchemy.engine.Engine - INFO - [cached since 0.1911s ago] {'table_name': 'spiritual_tasks', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-30 00:50:09,074 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:50:09,074 - sqlalchemy.engine.Engine - INFO - [cached since 0.2906s ago] {'table_name': 'daily_hadith', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-30 00:50:09,173 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:50:09,173 - sqlalchemy.engine.Engine - INFO - [generated in 0.00062s] {'typname_1': 'taskcategory', 'nspname_1': 'pg_catalog'}
2025-12-30 00:50:09,271 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:50:09,272 - sqlalchemy.engine.Engine - INFO - [cached since 0.09889s ago] {'typname_1': 'priority', 'nspname_1': 'pg_catalog'}
2025-12-30 00:50:09,371 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:50:09,371 - sqlalchemy.engine.Engine - INFO - [cached since 0.1985s ago] {'typname_1': 'recurrence', 'nspname_1': 'pg_catalog'}
2025-12-30 00:50:09,470 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:50:09,470 - sqlalchemy.engine.Engine - INFO - [cached since 0.2973s ago] {'typname_1': 'linkedprayer', 'nspname_1': 'pg_catalog'}
2025-12-30 00:50:09,569 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-30 00:50:09,768 - routers.chatbot - INFO - Initializing SalaatFlow Agent...
2025-12-30 00:50:09,770 - chatbot.mcp_tools - INFO - ✅ Registered 11 MCP tools for Gemini agent
2025-12-30 00:50:09,770 - chatbot.agent.agent - INFO - Initializing Gemini agent with 11 tools...
2025-12-30 00:50:09,772 - chatbot.agent.agent - INFO - ✅ Gemini agent initialized successfully
2025-12-30 00:50:09,772 - routers.chatbot - INFO - ✅ Agent ready
2025-12-30 00:50:09,784 - routers.chatbot - INFO - User 1 (en): Salam
2025-12-30 00:50:09,784 - chatbot.agent.agent - INFO - Running Gemini agent for user 1: Salam...
2025-12-30 00:50:11,054 - chatbot.agent.agent - ERROR - Error running Gemini agent: 404 models/gemini-1.5-flash is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.
Traceback (most recent call last):
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/chatbot/agent/agent.py", line 95, in run_agent
    # Send message and get response
               ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/venv/lib/python3.12/site-packages/google/generativeai/generative_models.py", line 578, in send_message
    response = self.model.generate_content(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/venv/lib/python3.12/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/venv/lib/python3.12/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 835, in generate_content
    response = rpc(
               ^^^^
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/venv/lib/python3.12/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/venv/lib/python3.12/site-packages/google/api_core/retry/retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
           ^^^^^^^^^^^^^
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/venv/lib/python3.12/site-packages/google/api_core/retry/retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
                 ^^^^^^^^^^^^^^^^^^^^
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/venv/lib/python3.12/site-packages/google/api_core/retry/retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/venv/lib/python3.12/site-packages/google/api_core/retry/retry_unary.py", line 147, in retry_target
    result = target()
             ^^^^^^^^
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/venv/lib/python3.12/site-packages/google/api_core/timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/venv/lib/python3.12/site-packages/google/api_core/grpc_helpers.py", line 77, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.NotFound: 404 models/gemini-1.5-flash is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.
2025-12-30 00:50:11,103 - routers.chatbot - INFO - Agent response: I encountered an unexpected error. Please try again....
2025-12-30 00:50:36,685 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-12-30 00:50:36,685 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-30 00:50:36,905 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-12-30 00:50:36,905 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-30 00:50:37,102 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-12-30 00:50:37,102 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-30 00:50:37,300 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-30 00:50:37,308 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:50:37,309 - sqlalchemy.engine.Engine - INFO - [generated in 0.00067s] {'table_name': 'masjids', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-30 00:50:37,498 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:50:37,498 - sqlalchemy.engine.Engine - INFO - [cached since 0.1901s ago] {'table_name': 'spiritual_tasks', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-30 00:50:37,597 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:50:37,597 - sqlalchemy.engine.Engine - INFO - [cached since 0.2889s ago] {'table_name': 'daily_hadith', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-30 00:50:37,696 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:50:37,696 - sqlalchemy.engine.Engine - INFO - [generated in 0.00054s] {'typname_1': 'taskcategory', 'nspname_1': 'pg_catalog'}
2025-12-30 00:50:37,795 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:50:37,795 - sqlalchemy.engine.Engine - INFO - [cached since 0.0993s ago] {'typname_1': 'priority', 'nspname_1': 'pg_catalog'}
2025-12-30 00:50:37,894 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:50:37,894 - sqlalchemy.engine.Engine - INFO - [cached since 0.1985s ago] {'typname_1': 'recurrence', 'nspname_1': 'pg_catalog'}
2025-12-30 00:50:37,992 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:50:37,993 - sqlalchemy.engine.Engine - INFO - [cached since 0.2968s ago] {'typname_1': 'linkedprayer', 'nspname_1': 'pg_catalog'}
2025-12-30 00:50:38,090 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-30 00:50:38,190 - routers.chatbot - INFO - Initializing SalaatFlow Agent...
2025-12-30 00:50:38,191 - chatbot.mcp_tools - INFO - ✅ Registered 11 MCP tools for Gemini agent
2025-12-30 00:50:38,192 - chatbot.agent.agent - INFO - Initializing Gemini agent with 11 tools...
2025-12-30 00:50:38,193 - chatbot.agent.agent - INFO - ✅ Gemini agent initialized successfully
2025-12-30 00:50:38,193 - routers.chatbot - INFO - ✅ Agent ready
2025-12-30 00:55:59,072 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-12-30 00:55:59,072 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-30 00:55:59,271 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-12-30 00:55:59,271 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-30 00:55:59,470 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-12-30 00:55:59,470 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-30 00:55:59,669 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-30 00:55:59,678 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:55:59,678 - sqlalchemy.engine.Engine - INFO - [generated in 0.00072s] {'table_name': 'masjids', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-30 00:55:59,966 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:55:59,967 - sqlalchemy.engine.Engine - INFO - [cached since 0.2893s ago] {'table_name': 'spiritual_tasks', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-30 00:56:00,067 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:56:00,068 - sqlalchemy.engine.Engine - INFO - [cached since 0.3902s ago] {'table_name': 'daily_hadith', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-30 00:56:00,168 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:56:00,168 - sqlalchemy.engine.Engine - INFO - [generated in 0.00060s] {'typname_1': 'taskcategory', 'nspname_1': 'pg_catalog'}
2025-12-30 00:56:00,266 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:56:00,266 - sqlalchemy.engine.Engine - INFO - [cached since 0.09875s ago] {'typname_1': 'priority', 'nspname_1': 'pg_catalog'}
2025-12-30 00:56:00,365 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:56:00,365 - sqlalchemy.engine.Engine - INFO - [cached since 0.1978s ago] {'typname_1': 'recurrence', 'nspname_1': 'pg_catalog'}
2025-12-30 00:56:00,466 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 00:56:00,466 - sqlalchemy.engine.Engine - INFO - [cached since 0.2983s ago] {'typname_1': 'linkedprayer', 'nspname_1': 'pg_catalog'}
2025-12-30 00:56:00,565 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-30 00:56:00,664 - routers.chatbot - INFO - Initializing SalaatFlow Agent...
2025-12-30 00:56:00,665 - chatbot.agent.agent - INFO - Initializing Gemini agent (simple conversation mode)...
2025-12-30 00:56:00,665 - chatbot.agent.agent - INFO - ✅ Gemini agent initialized successfully
2025-12-30 00:56:00,666 - routers.chatbot - INFO - ✅ Agent ready
2025-12-30 01:02:11,812 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-12-30 01:02:11,814 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-30 01:02:12,008 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-12-30 01:02:12,008 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-30 01:02:12,205 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-12-30 01:02:12,206 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-30 01:02:12,402 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-30 01:02:12,408 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 01:02:12,409 - sqlalchemy.engine.Engine - INFO - [generated in 0.00063s] {'table_name': 'masjids', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-30 01:02:12,697 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 01:02:12,698 - sqlalchemy.engine.Engine - INFO - [cached since 0.29s ago] {'table_name': 'spiritual_tasks', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-30 01:02:12,796 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 01:02:12,796 - sqlalchemy.engine.Engine - INFO - [cached since 0.3881s ago] {'table_name': 'daily_hadith', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-30 01:02:12,896 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 01:02:12,896 - sqlalchemy.engine.Engine - INFO - [generated in 0.00060s] {'typname_1': 'taskcategory', 'nspname_1': 'pg_catalog'}
2025-12-30 01:02:12,993 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 01:02:12,993 - sqlalchemy.engine.Engine - INFO - [cached since 0.09752s ago] {'typname_1': 'priority', 'nspname_1': 'pg_catalog'}
2025-12-30 01:02:13,092 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 01:02:13,093 - sqlalchemy.engine.Engine - INFO - [cached since 0.197s ago] {'typname_1': 'recurrence', 'nspname_1': 'pg_catalog'}
2025-12-30 01:02:13,190 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 01:02:13,191 - sqlalchemy.engine.Engine - INFO - [cached since 0.2949s ago] {'typname_1': 'linkedprayer', 'nspname_1': 'pg_catalog'}
2025-12-30 01:02:13,288 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-30 01:02:13,485 - routers.chatbot - INFO - Initializing SalaatFlow Agent...
2025-12-30 01:02:13,485 - chatbot.agent.agent - INFO - Initializing Gemini agent (simple conversation mode)...
2025-12-30 01:02:13,486 - chatbot.agent.agent - INFO - ✅ Gemini agent initialized successfully
2025-12-30 01:02:13,486 - routers.chatbot - INFO - ✅ Agent ready
2025-12-30 01:02:15,739 - watchfiles.main - INFO - 1 change detected
2025-12-30 01:02:40,456 - watchfiles.main - INFO - 1 change detected
2025-12-30 01:03:05,846 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-30 01:03:05,856 - sqlalchemy.engine.Engine - INFO - SELECT masjids.id AS masjids_id, masjids.name AS masjids_name, masjids.area_name AS masjids_area_name, masjids.city AS masjids_city, masjids.address AS masjids_address, masjids.imam_name AS masjids_imam_name, masjids.phone AS masjids_phone, masjids.latitude AS masjids_latitude, masjids.longitude AS masjids_longitude, masjids.fajr_time AS masjids_fajr_time, masjids.dhuhr_time AS masjids_dhuhr_time, masjids.asr_time AS masjids_asr_time, masjids.maghrib_time AS masjids_maghrib_time, masjids.isha_time AS masjids_isha_time, masjids.jummah_time AS masjids_jummah_time, masjids.created_at AS masjids_created_at, masjids.updated_at AS masjids_updated_at 
FROM masjids 
WHERE masjids.id = %(pk_1)s
2025-12-30 01:03:05,856 - sqlalchemy.engine.Engine - INFO - [generated in 0.00056s] {'pk_1': 13}
2025-12-30 01:03:06,143 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-30 01:03:06,731 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-30 01:03:06,732 - sqlalchemy.engine.Engine - INFO - SELECT masjids.id AS masjids_id, masjids.name AS masjids_name, masjids.area_name AS masjids_area_name, masjids.city AS masjids_city, masjids.address AS masjids_address, masjids.imam_name AS masjids_imam_name, masjids.phone AS masjids_phone, masjids.latitude AS masjids_latitude, masjids.longitude AS masjids_longitude, masjids.fajr_time AS masjids_fajr_time, masjids.dhuhr_time AS masjids_dhuhr_time, masjids.asr_time AS masjids_asr_time, masjids.maghrib_time AS masjids_maghrib_time, masjids.isha_time AS masjids_isha_time, masjids.jummah_time AS masjids_jummah_time, masjids.created_at AS masjids_created_at, masjids.updated_at AS masjids_updated_at 
FROM masjids 
WHERE masjids.id = %(pk_1)s
2025-12-30 01:03:06,732 - sqlalchemy.engine.Engine - INFO - [cached since 0.8768s ago] {'pk_1': 13}
2025-12-30 01:03:06,931 - sqlalchemy.engine.Engine - INFO - SELECT spiritual_tasks.id, spiritual_tasks.title, spiritual_tasks.description, spiritual_tasks.category, spiritual_tasks.priority, spiritual_tasks.tags, spiritual_tasks.masjid_id, spiritual_tasks.due_datetime, spiritual_tasks.recurrence, spiritual_tasks.user_id, spiritual_tasks.minutes_before_prayer, spiritual_tasks.linked_prayer, spiritual_tasks.recurrence_pattern, spiritual_tasks.completed, spiritual_tasks.completed_at, spiritual_tasks.created_at, spiritual_tasks.updated_at 
FROM spiritual_tasks 
WHERE spiritual_tasks.masjid_id = %(masjid_id_1)s AND spiritual_tasks.completed = false
2025-12-30 01:03:06,931 - sqlalchemy.engine.Engine - INFO - [generated in 0.00047s] {'masjid_id_1': 13}
2025-12-30 01:03:07,128 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-30 01:03:07,814 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-30 01:03:07,815 - sqlalchemy.engine.Engine - INFO - SELECT masjids.id AS masjids_id, masjids.name AS masjids_name, masjids.area_name AS masjids_area_name, masjids.city AS masjids_city, masjids.address AS masjids_address, masjids.imam_name AS masjids_imam_name, masjids.phone AS masjids_phone, masjids.latitude AS masjids_latitude, masjids.longitude AS masjids_longitude, masjids.fajr_time AS masjids_fajr_time, masjids.dhuhr_time AS masjids_dhuhr_time, masjids.asr_time AS masjids_asr_time, masjids.maghrib_time AS masjids_maghrib_time, masjids.isha_time AS masjids_isha_time, masjids.jummah_time AS masjids_jummah_time, masjids.created_at AS masjids_created_at, masjids.updated_at AS masjids_updated_at 
FROM masjids 
WHERE masjids.id = %(pk_1)s
2025-12-30 01:03:07,816 - sqlalchemy.engine.Engine - INFO - [cached since 1.96s ago] {'pk_1': 13}
2025-12-30 01:03:09,093 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-30 01:03:09,095 - sqlalchemy.engine.Engine - INFO - SELECT masjids.id AS masjids_id, masjids.name AS masjids_name, masjids.area_name AS masjids_area_name, masjids.city AS masjids_city, masjids.address AS masjids_address, masjids.imam_name AS masjids_imam_name, masjids.phone AS masjids_phone, masjids.latitude AS masjids_latitude, masjids.longitude AS masjids_longitude, masjids.fajr_time AS masjids_fajr_time, masjids.dhuhr_time AS masjids_dhuhr_time, masjids.asr_time AS masjids_asr_time, masjids.maghrib_time AS masjids_maghrib_time, masjids.isha_time AS masjids_isha_time, masjids.jummah_time AS masjids_jummah_time, masjids.created_at AS masjids_created_at, masjids.updated_at AS masjids_updated_at 
FROM masjids 
WHERE masjids.id = %(pk_1)s
2025-12-30 01:03:09,096 - sqlalchemy.engine.Engine - INFO - [cached since 3.24s ago] {'pk_1': 13}
2025-12-30 01:03:09,489 - sqlalchemy.engine.Engine - INFO - SELECT spiritual_tasks.id, spiritual_tasks.title, spiritual_tasks.description, spiritual_tasks.category, spiritual_tasks.priority, spiritual_tasks.tags, spiritual_tasks.masjid_id, spiritual_tasks.due_datetime, spiritual_tasks.recurrence, spiritual_tasks.user_id, spiritual_tasks.minutes_before_prayer, spiritual_tasks.linked_prayer, spiritual_tasks.recurrence_pattern, spiritual_tasks.completed, spiritual_tasks.completed_at, spiritual_tasks.created_at, spiritual_tasks.updated_at 
FROM spiritual_tasks 
WHERE spiritual_tasks.masjid_id = %(masjid_id_1)s AND spiritual_tasks.completed = false
2025-12-30 01:03:09,491 - sqlalchemy.engine.Engine - INFO - [cached since 2.56s ago] {'masjid_id_1': 13}
2025-12-30 01:03:09,686 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-30 01:03:09,687 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-30 01:03:11,731 - watchfiles.main - INFO - 1 change detected
2025-12-30 01:03:36,012 - watchfiles.main - INFO - 1 change detected
2025-12-30 01:03:36,335 - routers.chatbot - INFO - User 1 (en): fajr time Masjid Al-Huda
2025-12-30 01:03:36,336 - chatbot.agent.agent - INFO - Running Gemini agent for user 1: fajr time Masjid Al-Huda...
2025-12-30 01:03:36,337 - chatbot.agent.agent - INFO - Detected intent: conversation
2025-12-30 01:03:37,306 - chatbot.agent.agent - ERROR - Error running Gemini agent: 404 models/gemini-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.
Traceback (most recent call last):
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/chatbot/agent/agent.py", line 303, in run_agent
    response = chat.send_message(user_message)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/venv/lib/python3.12/site-packages/google/generativeai/generative_models.py", line 578, in send_message
    response = self.model.generate_content(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/venv/lib/python3.12/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/venv/lib/python3.12/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 835, in generate_content
    response = rpc(
               ^^^^
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/venv/lib/python3.12/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/venv/lib/python3.12/site-packages/google/api_core/retry/retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
           ^^^^^^^^^^^^^
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/venv/lib/python3.12/site-packages/google/api_core/retry/retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
                 ^^^^^^^^^^^^^^^^^^^^
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/venv/lib/python3.12/site-packages/google/api_core/retry/retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/venv/lib/python3.12/site-packages/google/api_core/retry/retry_unary.py", line 147, in retry_target
    result = target()
             ^^^^^^^^
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/venv/lib/python3.12/site-packages/google/api_core/timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/venv/lib/python3.12/site-packages/google/api_core/grpc_helpers.py", line 77, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.NotFound: 404 models/gemini-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.
2025-12-30 01:03:37,347 - routers.chatbot - INFO - Agent response: I encountered an unexpected error. Please try again....
2025-12-30 01:03:59,385 - watchfiles.main - INFO - 1 change detected
2025-12-30 01:04:22,675 - watchfiles.main - INFO - 1 change detected
2025-12-30 01:04:45,892 - watchfiles.main - INFO - 1 change detected
2025-12-30 01:05:09,809 - watchfiles.main - INFO - 1 change detected
2025-12-30 01:05:34,233 - watchfiles.main - INFO - 1 change detected
2025-12-30 01:05:59,070 - watchfiles.main - INFO - 1 change detected
2025-12-30 01:06:24,838 - watchfiles.main - INFO - 1 change detected
2025-12-30 01:06:50,985 - watchfiles.main - INFO - 1 change detected
2025-12-30 01:07:18,604 - watchfiles.main - INFO - 1 change detected
2025-12-30 01:07:49,811 - watchfiles.main - INFO - 1 change detected
2025-12-30 01:08:44,833 - watchfiles.main - INFO - 1 change detected
2025-12-30 01:09:54,807 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-12-30 01:09:54,807 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-30 01:09:55,004 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-12-30 01:09:55,004 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-30 01:09:55,202 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-12-30 01:09:55,202 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-30 01:09:55,400 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-30 01:09:55,407 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 01:09:55,407 - sqlalchemy.engine.Engine - INFO - [generated in 0.00056s] {'table_name': 'masjids', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-30 01:09:55,697 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 01:09:55,697 - sqlalchemy.engine.Engine - INFO - [cached since 0.2906s ago] {'table_name': 'spiritual_tasks', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-30 01:09:55,796 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 01:09:55,796 - sqlalchemy.engine.Engine - INFO - [cached since 0.3897s ago] {'table_name': 'daily_hadith', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-30 01:09:55,896 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 01:09:55,896 - sqlalchemy.engine.Engine - INFO - [generated in 0.00055s] {'typname_1': 'taskcategory', 'nspname_1': 'pg_catalog'}
2025-12-30 01:09:55,994 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 01:09:55,995 - sqlalchemy.engine.Engine - INFO - [cached since 0.09917s ago] {'typname_1': 'priority', 'nspname_1': 'pg_catalog'}
2025-12-30 01:09:56,094 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 01:09:56,095 - sqlalchemy.engine.Engine - INFO - [cached since 0.199s ago] {'typname_1': 'recurrence', 'nspname_1': 'pg_catalog'}
2025-12-30 01:09:56,192 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 01:09:56,193 - sqlalchemy.engine.Engine - INFO - [cached since 0.2971s ago] {'typname_1': 'linkedprayer', 'nspname_1': 'pg_catalog'}
2025-12-30 01:09:56,291 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-30 01:09:56,391 - routers.chatbot - INFO - Initializing SalaatFlow Agent...
2025-12-30 01:09:56,391 - chatbot.agent.agent - INFO - Initializing Gemini agent (simple conversation mode)...
2025-12-30 01:09:56,392 - chatbot.agent.agent - INFO - ✅ Gemini agent initialized successfully
2025-12-30 01:09:56,392 - routers.chatbot - INFO - ✅ Agent ready
2025-12-30 01:12:28,498 - routers.chatbot - INFO - User 1 (en): fajr timing
2025-12-30 01:12:28,499 - chatbot.agent.agent - INFO - Running Gemini agent for user 1: fajr timing...
2025-12-30 01:12:28,503 - chatbot.agent.agent - INFO - Detected intent: conversation
2025-12-30 01:12:29,770 - chatbot.agent.agent - ERROR - Error running Gemini agent: 404 models/gemini-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.
Traceback (most recent call last):
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/chatbot/agent/agent.py", line 303, in run_agent
    response = chat.send_message(user_message)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/venv/lib/python3.12/site-packages/google/generativeai/generative_models.py", line 578, in send_message
    response = self.model.generate_content(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/venv/lib/python3.12/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/venv/lib/python3.12/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 835, in generate_content
    response = rpc(
               ^^^^
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/venv/lib/python3.12/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/venv/lib/python3.12/site-packages/google/api_core/retry/retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
           ^^^^^^^^^^^^^
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/venv/lib/python3.12/site-packages/google/api_core/retry/retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
                 ^^^^^^^^^^^^^^^^^^^^
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/venv/lib/python3.12/site-packages/google/api_core/retry/retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/venv/lib/python3.12/site-packages/google/api_core/retry/retry_unary.py", line 147, in retry_target
    result = target()
             ^^^^^^^^
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/venv/lib/python3.12/site-packages/google/api_core/timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/venv/lib/python3.12/site-packages/google/api_core/grpc_helpers.py", line 77, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.NotFound: 404 models/gemini-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.
2025-12-30 01:12:29,937 - routers.chatbot - INFO - Agent response: I encountered an unexpected error. Please try again....
2025-12-30 01:12:35,560 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-30 01:12:35,576 - sqlalchemy.engine.Engine - INFO - SELECT masjids.id AS masjids_id, masjids.name AS masjids_name, masjids.area_name AS masjids_area_name, masjids.city AS masjids_city, masjids.address AS masjids_address, masjids.imam_name AS masjids_imam_name, masjids.phone AS masjids_phone, masjids.latitude AS masjids_latitude, masjids.longitude AS masjids_longitude, masjids.fajr_time AS masjids_fajr_time, masjids.dhuhr_time AS masjids_dhuhr_time, masjids.asr_time AS masjids_asr_time, masjids.maghrib_time AS masjids_maghrib_time, masjids.isha_time AS masjids_isha_time, masjids.jummah_time AS masjids_jummah_time, masjids.created_at AS masjids_created_at, masjids.updated_at AS masjids_updated_at 
FROM masjids 
WHERE masjids.id = %(pk_1)s
2025-12-30 01:12:35,577 - sqlalchemy.engine.Engine - INFO - [generated in 0.00095s] {'pk_1': 13}
2025-12-30 01:12:36,444 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-30 01:12:36,445 - sqlalchemy.engine.Engine - INFO - SELECT masjids.id AS masjids_id, masjids.name AS masjids_name, masjids.area_name AS masjids_area_name, masjids.city AS masjids_city, masjids.address AS masjids_address, masjids.imam_name AS masjids_imam_name, masjids.phone AS masjids_phone, masjids.latitude AS masjids_latitude, masjids.longitude AS masjids_longitude, masjids.fajr_time AS masjids_fajr_time, masjids.dhuhr_time AS masjids_dhuhr_time, masjids.asr_time AS masjids_asr_time, masjids.maghrib_time AS masjids_maghrib_time, masjids.isha_time AS masjids_isha_time, masjids.jummah_time AS masjids_jummah_time, masjids.created_at AS masjids_created_at, masjids.updated_at AS masjids_updated_at 
FROM masjids 
WHERE masjids.id = %(pk_1)s
2025-12-30 01:12:36,445 - sqlalchemy.engine.Engine - INFO - [cached since 0.8692s ago] {'pk_1': 13}
2025-12-30 01:12:36,645 - sqlalchemy.engine.Engine - INFO - SELECT spiritual_tasks.id, spiritual_tasks.title, spiritual_tasks.description, spiritual_tasks.category, spiritual_tasks.priority, spiritual_tasks.tags, spiritual_tasks.masjid_id, spiritual_tasks.due_datetime, spiritual_tasks.recurrence, spiritual_tasks.user_id, spiritual_tasks.minutes_before_prayer, spiritual_tasks.linked_prayer, spiritual_tasks.recurrence_pattern, spiritual_tasks.completed, spiritual_tasks.completed_at, spiritual_tasks.created_at, spiritual_tasks.updated_at 
FROM spiritual_tasks 
WHERE spiritual_tasks.masjid_id = %(masjid_id_1)s AND spiritual_tasks.completed = false
2025-12-30 01:12:36,645 - sqlalchemy.engine.Engine - INFO - [generated in 0.00063s] {'masjid_id_1': 13}
2025-12-30 01:12:36,840 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-30 01:12:36,841 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-30 01:12:37,525 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-30 01:12:37,526 - sqlalchemy.engine.Engine - INFO - SELECT masjids.id AS masjids_id, masjids.name AS masjids_name, masjids.area_name AS masjids_area_name, masjids.city AS masjids_city, masjids.address AS masjids_address, masjids.imam_name AS masjids_imam_name, masjids.phone AS masjids_phone, masjids.latitude AS masjids_latitude, masjids.longitude AS masjids_longitude, masjids.fajr_time AS masjids_fajr_time, masjids.dhuhr_time AS masjids_dhuhr_time, masjids.asr_time AS masjids_asr_time, masjids.maghrib_time AS masjids_maghrib_time, masjids.isha_time AS masjids_isha_time, masjids.jummah_time AS masjids_jummah_time, masjids.created_at AS masjids_created_at, masjids.updated_at AS masjids_updated_at 
FROM masjids 
WHERE masjids.id = %(pk_1)s
2025-12-30 01:12:37,526 - sqlalchemy.engine.Engine - INFO - [cached since 1.95s ago] {'pk_1': 13}
2025-12-30 01:12:37,822 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-30 01:12:38,410 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-30 01:12:38,410 - sqlalchemy.engine.Engine - INFO - SELECT masjids.id AS masjids_id, masjids.name AS masjids_name, masjids.area_name AS masjids_area_name, masjids.city AS masjids_city, masjids.address AS masjids_address, masjids.imam_name AS masjids_imam_name, masjids.phone AS masjids_phone, masjids.latitude AS masjids_latitude, masjids.longitude AS masjids_longitude, masjids.fajr_time AS masjids_fajr_time, masjids.dhuhr_time AS masjids_dhuhr_time, masjids.asr_time AS masjids_asr_time, masjids.maghrib_time AS masjids_maghrib_time, masjids.isha_time AS masjids_isha_time, masjids.jummah_time AS masjids_jummah_time, masjids.created_at AS masjids_created_at, masjids.updated_at AS masjids_updated_at 
FROM masjids 
WHERE masjids.id = %(pk_1)s
2025-12-30 01:12:38,411 - sqlalchemy.engine.Engine - INFO - [cached since 2.835s ago] {'pk_1': 13}
2025-12-30 01:12:38,606 - sqlalchemy.engine.Engine - INFO - SELECT spiritual_tasks.id, spiritual_tasks.title, spiritual_tasks.description, spiritual_tasks.category, spiritual_tasks.priority, spiritual_tasks.tags, spiritual_tasks.masjid_id, spiritual_tasks.due_datetime, spiritual_tasks.recurrence, spiritual_tasks.user_id, spiritual_tasks.minutes_before_prayer, spiritual_tasks.linked_prayer, spiritual_tasks.recurrence_pattern, spiritual_tasks.completed, spiritual_tasks.completed_at, spiritual_tasks.created_at, spiritual_tasks.updated_at 
FROM spiritual_tasks 
WHERE spiritual_tasks.masjid_id = %(masjid_id_1)s AND spiritual_tasks.completed = false
2025-12-30 01:12:38,610 - sqlalchemy.engine.Engine - INFO - [cached since 1.965s ago] {'masjid_id_1': 13}
2025-12-30 01:12:38,705 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-12-30 12:05:51,951 - routers.chatbot - INFO - User 1 (ur): Fajr ka task bana do
2025-12-30 12:05:51,954 - chatbot.agent.agent - INFO - Running Gemini agent for user 1: Fajr ka task bana do...
2025-12-30 12:05:51,955 - chatbot.agent.agent - INFO - Detected intent: create_task
2025-12-30 12:05:51,962 - chatbot.agent.agent - INFO - Creating task with params: {'linked_prayer': 'Fajr', 'priority': 'medium', 'title': 'Fajr'}
2025-12-30 12:05:51,963 - chatbot.mcp_tools - ERROR - Tool not found: create_task
2025-12-30 12:05:51,963 - routers.chatbot - INFO - Agent response: ❌ Failed to create task: TOOL_NOT_FOUND...
2025-12-30 12:06:03,271 - routers.chatbot - INFO - User 1 (en): Hello
2025-12-30 12:06:03,271 - chatbot.agent.agent - INFO - Running Gemini agent for user 1: Hello...
2025-12-30 12:06:03,272 - chatbot.agent.agent - INFO - Detected intent: conversation
2025-12-30 12:06:04,088 - chatbot.agent.agent - ERROR - Error running Gemini agent: 404 models/gemini-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.
Traceback (most recent call last):
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/chatbot/agent/agent.py", line 303, in run_agent
    response = chat.send_message(user_message)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/venv/lib/python3.12/site-packages/google/generativeai/generative_models.py", line 578, in send_message
    response = self.model.generate_content(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/venv/lib/python3.12/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/venv/lib/python3.12/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 835, in generate_content
    response = rpc(
               ^^^^
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/venv/lib/python3.12/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/venv/lib/python3.12/site-packages/google/api_core/retry/retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
           ^^^^^^^^^^^^^
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/venv/lib/python3.12/site-packages/google/api_core/retry/retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
                 ^^^^^^^^^^^^^^^^^^^^
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/venv/lib/python3.12/site-packages/google/api_core/retry/retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/venv/lib/python3.12/site-packages/google/api_core/retry/retry_unary.py", line 147, in retry_target
    result = target()
             ^^^^^^^^
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/venv/lib/python3.12/site-packages/google/api_core/timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/venv/lib/python3.12/site-packages/google/api_core/grpc_helpers.py", line 77, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.NotFound: 404 models/gemini-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.
2025-12-30 12:06:04,108 - routers.chatbot - INFO - Agent response: I encountered an unexpected error. Please try again....
2025-12-30 12:06:27,639 - routers.chatbot - INFO - User 1 (en): Mujhe tasks dikhao
2025-12-30 12:06:27,642 - chatbot.agent.agent - INFO - Running Gemini agent for user 1: Mujhe tasks dikhao...
2025-12-30 12:06:27,646 - chatbot.agent.agent - INFO - Detected intent: conversation
2025-12-30 12:06:27,838 - chatbot.agent.agent - ERROR - Error running Gemini agent: 404 models/gemini-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.
Traceback (most recent call last):
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/chatbot/agent/agent.py", line 303, in run_agent
    response = chat.send_message(user_message)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/venv/lib/python3.12/site-packages/google/generativeai/generative_models.py", line 578, in send_message
    response = self.model.generate_content(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/venv/lib/python3.12/site-packages/google/generativeai/generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/venv/lib/python3.12/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 835, in generate_content
    response = rpc(
               ^^^^
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/venv/lib/python3.12/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/venv/lib/python3.12/site-packages/google/api_core/retry/retry_unary.py", line 294, in retry_wrapped_func
    return retry_target(
           ^^^^^^^^^^^^^
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/venv/lib/python3.12/site-packages/google/api_core/retry/retry_unary.py", line 156, in retry_target
    next_sleep = _retry_error_helper(
                 ^^^^^^^^^^^^^^^^^^^^
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/venv/lib/python3.12/site-packages/google/api_core/retry/retry_base.py", line 214, in _retry_error_helper
    raise final_exc from source_exc
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/venv/lib/python3.12/site-packages/google/api_core/retry/retry_unary.py", line 147, in retry_target
    result = target()
             ^^^^^^^^
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/venv/lib/python3.12/site-packages/google/api_core/timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/d/Data/GIAIC/hackathon2_prayertodo/phase2_new/backend/venv/lib/python3.12/site-packages/google/api_core/grpc_helpers.py", line 77, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.NotFound: 404 models/gemini-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.
2025-12-30 12:06:27,856 - routers.chatbot - INFO - Agent response: I encountered an unexpected error. Please try again....
2025-12-30 12:25:46,304 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-12-30 12:25:46,304 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-30 12:25:46,469 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-12-30 12:25:46,469 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-30 12:25:46,640 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-12-30 12:25:46,641 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-12-30 12:25:46,820 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-12-30 12:25:46,827 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 12:25:46,827 - sqlalchemy.engine.Engine - INFO - [generated in 0.00045s] {'table_name': 'masjids', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-30 12:25:47,015 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 12:25:47,016 - sqlalchemy.engine.Engine - INFO - [cached since 0.1894s ago] {'table_name': 'spiritual_tasks', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-30 12:25:47,105 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 12:25:47,105 - sqlalchemy.engine.Engine - INFO - [cached since 0.2785s ago] {'table_name': 'daily_hadith', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-30 12:25:47,182 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 12:25:47,182 - sqlalchemy.engine.Engine - INFO - [generated in 0.00049s] {'typname_1': 'taskcategory', 'nspname_1': 'pg_catalog'}
2025-12-30 12:25:47,262 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 12:25:47,262 - sqlalchemy.engine.Engine - INFO - [cached since 0.08053s ago] {'typname_1': 'priority', 'nspname_1': 'pg_catalog'}
2025-12-30 12:25:47,339 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 12:25:47,340 - sqlalchemy.engine.Engine - INFO - [cached since 0.1583s ago] {'typname_1': 'recurrence', 'nspname_1': 'pg_catalog'}
2025-12-30 12:25:47,416 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-12-30 12:25:47,416 - sqlalchemy.engine.Engine - INFO - [cached since 0.2344s ago] {'typname_1': 'linkedprayer', 'nspname_1': 'pg_catalog'}
2025-12-30 12:25:47,492 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-12-30 12:25:47,575 - routers.chatbot - INFO - Initializing SalaatFlow Agent...
2025-12-30 12:25:47,576 - chatbot.agent.agent - INFO - Initializing Gemini agent (simple conversation mode)...
2025-12-30 12:25:47,576 - chatbot.agent.agent - INFO - ✅ Gemini agent initialized successfully
2025-12-30 12:25:47,577 - routers.chatbot - INFO - ✅ Agent ready
